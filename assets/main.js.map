{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@stimulus/core/dist/module/src/action.js","webpack:///./node_modules/@stimulus/core/dist/module/src/action_descriptor.js","webpack:///./node_modules/@stimulus/core/dist/module/src/action_set.js","webpack:///./node_modules/@stimulus/multimap/dist/module/src/set_operations.js","webpack:///./node_modules/@stimulus/multimap/dist/module/src/multimap.js","webpack:///./node_modules/@stimulus/multimap/dist/module/src/indexed_multimap.js","webpack:///./node_modules/@stimulus/mutation-observers/dist/module/src/element_observer.js","webpack:///./node_modules/@stimulus/mutation-observers/dist/module/src/token_list_observer.js","webpack:///./node_modules/@stimulus/mutation-observers/dist/module/src/attribute_observer.js","webpack:///./node_modules/@stimulus/core/dist/module/src/inline_action_observer.js","webpack:///./node_modules/@stimulus/core/dist/module/src/data_map.js","webpack:///./node_modules/@stimulus/core/dist/module/src/selectors.js","webpack:///./node_modules/@stimulus/core/dist/module/src/target_set.js","webpack:///./node_modules/@stimulus/core/dist/module/src/scope.js","webpack:///./node_modules/@stimulus/core/dist/module/src/context.js","webpack:///./node_modules/@stimulus/core/dist/module/src/definition.js","webpack:///./node_modules/@stimulus/core/dist/module/src/module.js","webpack:///./node_modules/@stimulus/core/dist/module/src/router.js","webpack:///./node_modules/@stimulus/core/dist/module/src/schema.js","webpack:///./node_modules/@stimulus/core/dist/module/src/application.js","webpack:///./node_modules/@stimulus/core/dist/module/src/target_properties.js","webpack:///./node_modules/@stimulus/core/dist/module/src/controller.js","webpack:///./node_modules/in-viewport/in-viewport.js","webpack:///./node_modules/turbolinks/dist/turbolinks.js","webpack:///./_assets/main.js","webpack:///./node_modules/@stimulus/webpack-helpers/dist/module/index.js","webpack:///./_assets/controllers/preview-proposals_controller.js","webpack:///(webpack)/buildin/global.js","webpack:///./_assets/controllers/more-clients_controller.js","webpack:///./_assets/controllers/dropdown_controller.js","webpack:///./_assets/controllers/collapse_controller.js","webpack:///./_assets/controllers sync \\.js$","webpack:///(webpack)/buildin/amd-options.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","Action","context","descriptor","eventTarget","this","connect","addEventListener","eventName","disconnect","removeEventListener","hasSameDescriptorAs","action","isEqualTo","handleEvent","event","willBeInvokedByEvent","invokeWithEvent","method","controller","methodName","Error","error","handleError","target","element","Element","contains","scope","containsElement","pattern","ActionDescriptor","identifier","forOptions","options","forElementWithInlineDescriptorString","descriptorString","parseOptionsFromInlineActionDescriptorString","getDefaultEventNameForElement","message","matches","trim","match","eventTargetName","window","document","parseEventTarget","defaultEventNames","tagName","toLowerCase","stringifyEventTarget","toString","eventNameSuffix","a","e","button","form","input","getAttribute","select","textarea","ActionSet","started","actions","Set","start","connectActions","stop","disconnectActions","add","has","delete","forEach","map","key","fetch","del","values","size","prune","set","extendStatics","multimap_Multimap","Multimap","valuesByKey","Map","Array","from","reduce","concat","hasKey","hasValue","some","getValuesForKey","getKeysForValue","filter","_a","__extends","setPrototypeOf","__proto__","b","__","constructor","create","indexed_multimap_IndexedMultimap","_super","IndexedMultimap","_this","keysByValue","keys","ElementObserver","delegate","elements","mutationObserver","MutationObserver","mutations","processMutations","observe","attributes","childList","subtree","refresh","takeRecords","matchElementsInTree","_i","length","removeElement","_b","_c","addElement","mutations_1","mutation","processMutation","type","processAttributeChange","attributeName","processRemovedNodes","removedNodes","processAddedNodes","addedNodes","node","elementAttributeChanged","matchElement","nodes","processNode","tree","processor","elementFromNode","nodeType","Node","ELEMENT_NODE","elementMatched","elementUnmatched","token_list_observer_TokenListObserver","AttributeObserver","elementObserver","hasAttribute","querySelectorAll","selector","elementMatchedAttribute","elementUnmatchedAttribute","elementAttributeValueChanged","TokenListObserver","tokensByElement","getElementsMatchingToken","token","newTokens_1","readTokenSetForElement","elementMatchedToken","tokens_1","getTokensForElement","elementUnmatchedToken","newTokenSet","elementMatchedTokenForAttribute","elementUnmatchedTokenForAttribute","tokens","split","inline_action_observer_InlineActionObserver","InlineActionObserver","tokenListObserver","connectedActions","schema","actionAttribute","buildActionForElementWithDescriptorString","inlineActionConnected","getConnectedActionForElementWithDescriptorString","inlineActionDisconnected","newAction","find","DataMap","getFormattedKey","setAttribute","removeAttribute","replace","_","char","attributeValueContainsToken","target_set_TargetSet","TargetSet","targetName","targetNames","arguments","getSelectorForTargetNames","findElement","findAll","findAllElements","getSelectorForTargetName","join","targetDescriptor","targetAttribute","scope_Scope","Scope","targets","data","head","tail","filterElements","closest","controllerSelector","controllerAttribute","context_Context","Context","inlineActionObserver","controllerConstructor","initialize","application","parentElement","detail","assign","definition_extends","blessDefinition","definition","extend","bless","extendWithReflect","Controller","_newTarget","Reflect","construct","apply","module_Module","Module","contextsByElement","WeakMap","connectedContexts","connectElement","fetchContextForElement","disconnectElement","getContextForElement","router_Router","Router","modulesByIdentifier","loadDefinition","unloadIdentifier","connectModule","disconnectModule","connectModuleForIdentifierToElement","disconnectModuleForIdentifierFromElement","contexts","getContextForElementAndIdentifier","elements_1","contexts_1","defaultSchema","application_Application","Application","documentElement","router","register","load","rest","isArray","unload","getControllerForElementAndIdentifier","console","defineTargetProperties","ancestors","push","getPrototypeOf","getAncestorsForConstructor","getOwnTargetNamesForConstructor","getTargetNamesForConstructor","charAt","toLocaleUpperCase","slice","capitalize","properties","controller_Controller","global","elt","params","cb","opts","container","body","offset","debounce","failsafe","undefined","debounceValue","instances","_debounce","_failsafe","isInViewport","watches","indexOf","isWatched","remove","pos","splice","checkAll","createWatches","scrollContainer","debouncedCheck","func","isVisible","wait","args","callNow","immediate","timeout","clearTimeout","setTimeout","addEvent","supportsMutationObserver","observer","knownNodes","observeDOM","setInterval","offsetWidth","offsetHeight","eltRect","getBoundingClientRect","viewport","top","left","right","clientWidth","bottom","clientHeight","containerRect","visible","remote","watch","dispose","createRemote","createInViewport","el","fn","attachEvent","compareDocumentPosition","parentNode","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_RESULT__","Turbolinks","supported","history","pushState","requestAnimationFrame","visit","t","clearCache","copyObject","defer","throttle","dispatch","cancelable","createEvent","initEvent","dispatchEvent","matchesSelector","webkitMatchesSelector","msMatchesSelector","mozMatchesSelector","uuid","Math","floor","random","Location","createElement","href","absoluteURL","hash","requestURL","anchor","wrap","getOrigin","getPath","getPathComponents","getLastPathComponent","getExtension","isHTML","isPrefixedBy","toCacheKey","toJSON","valueOf","HttpRequest","requestCanceled","requestTimedOut","requestFailed","requestLoaded","requestProgressed","url","referrer","createXHR","NETWORK_FAILURE","TIMEOUT_FAILURE","send","xhr","sent","notifyApplicationBeforeRequestStart","setProgress","requestStarted","cancel","abort","lengthComputable","loaded","total","endRequest","status","requestCompletedWithResponse","responseText","getResponseHeader","failed","requestFailedWithStatusCode","notifyApplicationAfterRequestEnd","XMLHttpRequest","open","setRequestHeader","onprogress","onload","onerror","ontimeout","onabort","destroy","progress","requestFinished","ProgressBar","trickle","stylesheetElement","createStylesheetElement","progressElement","createProgressElement","defaultCSS","show","installStylesheetElement","installProgressElement","startTrickling","hide","hiding","fadeProgressElement","uninstallProgressElement","stopTrickling","setValue","insertBefore","firstChild","style","width","opacity","removeChild","trickleInterval","clearInterval","textContent","className","BrowserAdapter","showProgressBar","progressBar","visitProposedToLocationWithAction","startVisitToLocationWithAction","visitStarted","issueRequest","changeHistory","loadCachedSnapshot","visitRequestStarted","hasCachedSnapshot","showProgressBarAfterDelay","visitRequestProgressed","visitRequestCompleted","loadResponse","visitRequestFailedWithStatusCode","reload","visitRequestFinished","hideProgressBar","visitCompleted","followRedirect","pageInvalidated","progressBarTimeout","location","History","onPageLoad","onPopState","update","shouldHandlePopState","state","turbolinks","restorationIdentifier","historyPoppedToLocationWithRestorationIdentifier","pageLoaded","pageIsLoaded","readyState","Snapshot","fromHTML","innerHTML","fromElement","querySelector","clone","cloneNode","getRootLocation","getSetting","getCacheControlValue","hasAnchor","isPreviewable","isCacheable","Renderer","render","renderView","viewWillRender","newBody","viewRendered","invalidateView","viewInvalidated","createScriptElement","u","HeadDetails","childNodes","outerHTML","tracked","hasElementWithKey","getTrackedElementSignature","getScriptElementsNotInDetails","getElementsMatchingTypeNotInDetails","getStylesheetElementsNotInDetails","getProvisionalElements","__super__","SnapshotRenderer","currentSnapshot","newSnapshot","currentHeadDetails","newHeadDetails","trackedElementsAreIdentical","mergeHead","replaceBody","focusFirstAutofocusableElement","copyNewHeadStylesheetElements","copyNewHeadScriptElements","removeCurrentHeadProvisionalElements","copyNewHeadProvisionalElements","activateBodyScriptElements","importBodyPermanentElements","assignNewBody","getNewHeadStylesheetElements","appendChild","getNewHeadScriptElements","getCurrentHeadProvisionalElements","getNewHeadProvisionalElements","getNewBodyPermanentElements","findCurrentBodyPermanentElement","replaceChild","getNewBodyScriptElements","findFirstAutofocusableElement","focus","id","ErrorRenderer","html","replaceDocumentHTML","getScriptElements","View","getSnapshot","snapshot","isPreview","markAsPreview","renderSnapshot","renderError","ScrollManager","onScroll","scrollToElement","scrollIntoView","scrollToPosition","x","y","scrollTo","updatePosition","pageXOffset","pageYOffset","position","scrollPositionChanged","SnapshotCache","snapshots","read","touch","put","write","unshift","Visit","performScroll","adapter","timingMetrics","recordTimingMetric","request","cancelRender","complete","fail","visitFailed","historyChanged","shouldIssueRequest","getCachedSnapshot","getCachedSnapshotForLocation","cacheSnapshot","visitRendered","response","redirectedToLocation","followedRedirect","replaceHistoryWithLocationAndRestorationIdentifier","scrolled","scrollToRestoredPosition","scrollToTop","scrollToAnchor","restorationData","scrollPosition","Date","getTime","getTimingMetrics","snapshotCached","frame","cancelAnimationFrame","clickBubbled","clickCaptured","view","scrollManager","startHistory","enabled","disable","stopHistory","cache","applicationAllowsVisitingLocation","locationIsVisitable","getRestorationDataForIdentifier","startVisit","pushHistoryWithLocationAndRestorationIdentifier","shouldCacheSnapshot","notifyApplicationBeforeCachingSnapshot","lastRenderedLocation","getElementById","getCurrentRestorationData","notifyApplicationBeforeRender","currentVisit","notifyApplicationAfterRender","notifyApplicationAfterPageLoad","clickEventIsSignificant","getVisitableLinkForNode","getVisitableLocationForLink","applicationAllowsFollowingLinkToLocation","preventDefault","getActionForLink","notifyApplicationAfterClickingLinkToLocation","defaultPrevented","notifyApplicationBeforeVisitingLocation","notifyApplicationAfterVisitingLocation","timing","createVisit","isContentEditable","which","altKey","ctrlKey","metaKey","shiftKey","nodeIsVisitable","logicalName","identifierForContextKey","default","definitionForModuleAndIdentifier","definitionForModuleWithContextAndKey","definitionsFromContext","turbolinks_default","stimulus__WEBPACK_IMPORTED_MODULE_0__","numProposals","alert","parseInt","g","Function","eval","_this2","watcher","in_viewport__WEBPACK_IMPORTED_MODULE_1___default","addMoreClients","nextPageUrl","parentEl","oReq","newEl","responseType","stopPropagation","buttonTarget","classList","menuTarget","dataset","altText","oldText","./collapse_controller.js","./dropdown_controller.js","./more-clients_controller.js","./preview-proposals_controller.js","webpackContext","req","webpackContextResolve","code","resolve","__webpack_amd_options__"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/assets/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","var Action = /** @class */ (function () {\n    function Action(context, descriptor, eventTarget) {\n        this.context = context;\n        this.descriptor = descriptor;\n        this.eventTarget = eventTarget;\n    }\n    Action.prototype.connect = function () {\n        this.eventTarget.addEventListener(this.eventName, this, false);\n    };\n    Action.prototype.disconnect = function () {\n        this.eventTarget.removeEventListener(this.eventName, this, false);\n    };\n    Action.prototype.hasSameDescriptorAs = function (action) {\n        return action != null && action.descriptor.isEqualTo(this.descriptor);\n    };\n    Action.prototype.handleEvent = function (event) {\n        if (this.willBeInvokedByEvent(event)) {\n            this.invokeWithEvent(event);\n        }\n    };\n    Object.defineProperty(Action.prototype, \"eventName\", {\n        get: function () {\n            return this.descriptor.eventName;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Action.prototype, \"method\", {\n        get: function () {\n            var method = this.controller[this.methodName];\n            if (typeof method == \"function\") {\n                return method;\n            }\n            throw new Error(\"Action \\\"\" + this.descriptor + \"\\\" references undefined method \\\"\" + this.methodName + \"\\\"\");\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Action.prototype.invokeWithEvent = function (event) {\n        try {\n            this.method.call(this.controller, event);\n        }\n        catch (error) {\n            this.context.handleError(error, \"invoking action \\\"\" + this.descriptor + \"\\\"\", { event: event });\n        }\n    };\n    Action.prototype.willBeInvokedByEvent = function (event) {\n        var eventTarget = event.target;\n        if (this.element === eventTarget) {\n            return true;\n        }\n        else if (eventTarget instanceof Element && this.element.contains(eventTarget)) {\n            return this.scope.containsElement(eventTarget);\n        }\n        else {\n            return true;\n        }\n    };\n    Object.defineProperty(Action.prototype, \"controller\", {\n        get: function () {\n            return this.context.controller;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Action.prototype, \"methodName\", {\n        get: function () {\n            return this.descriptor.methodName;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Action.prototype, \"element\", {\n        get: function () {\n            return this.scope.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Action.prototype, \"scope\", {\n        get: function () {\n            return this.context.scope;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Action;\n}());\nexport { Action };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWN0aW9uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcGFja2FnZXMvQHN0aW11bHVzL2NvcmUvc3JjL2FjdGlvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFLQTtJQUtFLGdCQUFZLE9BQWdCLEVBQUUsVUFBNEIsRUFBRSxXQUF3QjtRQUNsRixJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQTtRQUN0QixJQUFJLENBQUMsVUFBVSxHQUFHLFVBQVUsQ0FBQTtRQUM1QixJQUFJLENBQUMsV0FBVyxHQUFHLFdBQVcsQ0FBQTtJQUNoQyxDQUFDO0lBRUQsd0JBQU8sR0FBUDtRQUNFLElBQUksQ0FBQyxXQUFXLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUE7SUFDaEUsQ0FBQztJQUVELDJCQUFVLEdBQVY7UUFDRSxJQUFJLENBQUMsV0FBVyxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFBO0lBQ25FLENBQUM7SUFFRCxvQ0FBbUIsR0FBbkIsVUFBb0IsTUFBcUI7UUFDdkMsTUFBTSxDQUFDLE1BQU0sSUFBSSxJQUFJLElBQUksTUFBTSxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFBO0lBQ3ZFLENBQUM7SUFFRCw0QkFBVyxHQUFYLFVBQVksS0FBWTtRQUN0QixFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3JDLElBQUksQ0FBQyxlQUFlLENBQUMsS0FBSyxDQUFDLENBQUE7UUFDN0IsQ0FBQztJQUNILENBQUM7SUFFRCxzQkFBSSw2QkFBUzthQUFiO1lBQ0UsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsU0FBUyxDQUFBO1FBQ2xDLENBQUM7OztPQUFBO0lBRUQsc0JBQUksMEJBQU07YUFBVjtZQUNFLElBQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFBO1lBQy9DLEVBQUUsQ0FBQyxDQUFDLE9BQU8sTUFBTSxJQUFJLFVBQVUsQ0FBQyxDQUFDLENBQUM7Z0JBQ2hDLE1BQU0sQ0FBQyxNQUFNLENBQUE7WUFDZixDQUFDO1lBQ0QsTUFBTSxJQUFJLEtBQUssQ0FBQyxjQUFXLElBQUksQ0FBQyxVQUFVLHlDQUFrQyxJQUFJLENBQUMsVUFBVSxPQUFHLENBQUMsQ0FBQTtRQUNqRyxDQUFDOzs7T0FBQTtJQUVPLGdDQUFlLEdBQXZCLFVBQXdCLEtBQVk7UUFDbEMsSUFBSSxDQUFDO1lBQ0gsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBRSxLQUFLLENBQUMsQ0FBQTtRQUMxQyxDQUFDO1FBQUMsS0FBSyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztZQUNmLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLEtBQUssRUFBRSx1QkFBb0IsSUFBSSxDQUFDLFVBQVUsT0FBRyxFQUFFLEVBQUUsS0FBSyxPQUFBLEVBQUUsQ0FBQyxDQUFBO1FBQ3BGLENBQUM7SUFDSCxDQUFDO0lBRU8scUNBQW9CLEdBQTVCLFVBQTZCLEtBQVk7UUFDdkMsSUFBTSxXQUFXLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQTtRQUNoQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxLQUFLLFdBQVcsQ0FBQyxDQUFDLENBQUM7WUFDakMsTUFBTSxDQUFDLElBQUksQ0FBQTtRQUNiLENBQUM7UUFBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsV0FBVyxZQUFZLE9BQU8sSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLFFBQVEsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDaEYsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLFdBQVcsQ0FBQyxDQUFBO1FBQ2hELENBQUM7UUFBQyxJQUFJLENBQUMsQ0FBQztZQUNOLE1BQU0sQ0FBQyxJQUFJLENBQUE7UUFDYixDQUFDO0lBQ0gsQ0FBQztJQUVELHNCQUFZLDhCQUFVO2FBQXRCO1lBQ0UsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFBO1FBQ2hDLENBQUM7OztPQUFBO0lBRUQsc0JBQVksOEJBQVU7YUFBdEI7WUFDRSxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxVQUFVLENBQUE7UUFDbkMsQ0FBQzs7O09BQUE7SUFFRCxzQkFBWSwyQkFBTzthQUFuQjtZQUNFLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQTtRQUMzQixDQUFDOzs7T0FBQTtJQUVELHNCQUFZLHlCQUFLO2FBQWpCO1lBQ0UsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFBO1FBQzNCLENBQUM7OztPQUFBO0lBQ0gsYUFBQztBQUFELENBQUMsQUEzRUQsSUEyRUMifQ==","// capture nos.:  12   23 4               43   1 5   5 6  6\nvar pattern = /^((.+?)(@(window|document))?->)?(.+?)#(.+)$/;\nvar ActionDescriptor = /** @class */ (function () {\n    function ActionDescriptor(identifier, eventName, methodName, eventTarget) {\n        this.identifier = identifier;\n        this.eventName = eventName;\n        this.methodName = methodName;\n        this.eventTarget = eventTarget;\n    }\n    ActionDescriptor.forOptions = function (options) {\n        return new ActionDescriptor(options.identifier || error(\"Missing identifier in action descriptor\"), options.eventName || error(\"Missing event name in action descriptor\"), options.methodName || error(\"Missing method name in action descriptor\"), options.eventTarget || error(\"Missing event target in action descriptor\"));\n    };\n    ActionDescriptor.forElementWithInlineDescriptorString = function (element, descriptorString) {\n        try {\n            var options = this.parseOptionsFromInlineActionDescriptorString(descriptorString);\n            options.eventName = options.eventName || this.getDefaultEventNameForElement(element);\n            options.eventTarget = options.eventTarget || element;\n            return ActionDescriptor.forOptions(options);\n        }\n        catch (error) {\n            throw new Error(\"Bad action descriptor \\\"\" + descriptorString + \"\\\": \" + error.message);\n        }\n    };\n    ActionDescriptor.parseOptionsFromInlineActionDescriptorString = function (descriptorString) {\n        var source = descriptorString.trim();\n        var matches = source.match(pattern) || error(\"Invalid action descriptor syntax\");\n        return {\n            identifier: matches[5],\n            eventName: matches[2],\n            methodName: matches[6],\n            eventTarget: parseEventTarget(matches[4])\n        };\n    };\n    ActionDescriptor.getDefaultEventNameForElement = function (element) {\n        return this.defaultEventNames[element.tagName.toLowerCase()](element);\n    };\n    Object.defineProperty(ActionDescriptor.prototype, \"eventTargetName\", {\n        get: function () {\n            return stringifyEventTarget(this.eventTarget);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ActionDescriptor.prototype.isEqualTo = function (descriptor) {\n        return descriptor != null &&\n            descriptor.identifier == this.identifier &&\n            descriptor.eventName == this.eventName &&\n            descriptor.methodName == this.methodName &&\n            descriptor.eventTarget == this.eventTarget;\n    };\n    ActionDescriptor.prototype.toString = function () {\n        var eventNameSuffix = this.eventTargetName ? \"@\" + this.eventTargetName : \"\";\n        return \"\" + this.eventName + eventNameSuffix + \"->\" + this.identifier + \"#\" + this.methodName;\n    };\n    ActionDescriptor.defaultEventNames = {\n        \"a\": function (e) { return \"click\"; },\n        \"button\": function (e) { return \"click\"; },\n        \"form\": function (e) { return \"submit\"; },\n        \"input\": function (e) { return e.getAttribute(\"type\") == \"submit\" ? \"click\" : \"change\"; },\n        \"select\": function (e) { return \"change\"; },\n        \"textarea\": function (e) { return \"change\"; }\n    };\n    return ActionDescriptor;\n}());\nexport { ActionDescriptor };\nfunction error(message) {\n    throw new Error(message);\n}\nfunction parseEventTarget(eventTargetName) {\n    if (eventTargetName == \"window\") {\n        return window;\n    }\n    else if (eventTargetName == \"document\") {\n        return document;\n    }\n}\nfunction stringifyEventTarget(eventTarget) {\n    if (eventTarget == window) {\n        return \"window\";\n    }\n    else if (eventTarget == document) {\n        return \"document\";\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWN0aW9uX2Rlc2NyaXB0b3IuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wYWNrYWdlcy9Ac3RpbXVsdXMvY29yZS9zcmMvYWN0aW9uX2Rlc2NyaXB0b3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBT0EsMkRBQTJEO0FBQzNELElBQU0sT0FBTyxHQUFHLDZDQUE2QyxDQUFBO0FBRTdEO0lBa0RFLDBCQUFZLFVBQWtCLEVBQUUsU0FBaUIsRUFBRSxVQUFrQixFQUFFLFdBQXdCO1FBQzdGLElBQUksQ0FBQyxVQUFVLEdBQUcsVUFBVSxDQUFBO1FBQzVCLElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFBO1FBQzFCLElBQUksQ0FBQyxVQUFVLEdBQUcsVUFBVSxDQUFBO1FBQzVCLElBQUksQ0FBQyxXQUFXLEdBQUcsV0FBVyxDQUFBO0lBQ2hDLENBQUM7SUF4Q00sMkJBQVUsR0FBakIsVUFBa0IsT0FBZ0M7UUFDaEQsTUFBTSxDQUFDLElBQUksZ0JBQWdCLENBQ3pCLE9BQU8sQ0FBQyxVQUFVLElBQUssS0FBSyxDQUFDLHlDQUF5QyxDQUFDLEVBQ3ZFLE9BQU8sQ0FBQyxTQUFTLElBQU0sS0FBSyxDQUFDLHlDQUF5QyxDQUFDLEVBQ3ZFLE9BQU8sQ0FBQyxVQUFVLElBQUssS0FBSyxDQUFDLDBDQUEwQyxDQUFDLEVBQ3hFLE9BQU8sQ0FBQyxXQUFXLElBQUksS0FBSyxDQUFDLDJDQUEyQyxDQUFDLENBQzFFLENBQUE7SUFDSCxDQUFDO0lBRU0scURBQW9DLEdBQTNDLFVBQTRDLE9BQWdCLEVBQUUsZ0JBQXdCO1FBQ3BGLElBQUksQ0FBQztZQUNILElBQU0sT0FBTyxHQUFHLElBQUksQ0FBQyw0Q0FBNEMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFBO1lBQ25GLE9BQU8sQ0FBQyxTQUFTLEdBQUcsT0FBTyxDQUFDLFNBQVMsSUFBSSxJQUFJLENBQUMsNkJBQTZCLENBQUMsT0FBTyxDQUFDLENBQUE7WUFDcEYsT0FBTyxD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","var ActionSet = /** @class */ (function () {\n    function ActionSet(context) {\n        this.context = context;\n        this.started = false;\n        this.actions = new Set;\n    }\n    ActionSet.prototype.start = function () {\n        if (!this.started) {\n            this.started = true;\n            this.connectActions();\n        }\n    };\n    ActionSet.prototype.stop = function () {\n        if (this.started) {\n            this.disconnectActions();\n            this.started = false;\n        }\n    };\n    ActionSet.prototype.add = function (action) {\n        if (!this.actions.has(action)) {\n            action.connect();\n            this.actions.add(action);\n        }\n    };\n    ActionSet.prototype.delete = function (action) {\n        if (this.actions.has(action)) {\n            this.actions.delete(action);\n            action.disconnect();\n        }\n    };\n    ActionSet.prototype.connectActions = function () {\n        this.actions.forEach(function (action) { return action.connect(); });\n    };\n    ActionSet.prototype.disconnectActions = function () {\n        this.actions.forEach(function (action) { return action.disconnect(); });\n    };\n    return ActionSet;\n}());\nexport { ActionSet };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWN0aW9uX3NldC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3BhY2thZ2VzL0BzdGltdWx1cy9jb3JlL3NyYy9hY3Rpb25fc2V0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUdBO0lBS0UsbUJBQVksT0FBZ0I7UUFDMUIsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUE7UUFDdEIsSUFBSSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUE7UUFDcEIsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLEdBQUcsQ0FBQTtJQUN4QixDQUFDO0lBRUQseUJBQUssR0FBTDtRQUNFLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7WUFDbEIsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUE7WUFDbkIsSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFBO1FBQ3ZCLENBQUM7SUFDSCxDQUFDO0lBRUQsd0JBQUksR0FBSjtRQUNFLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1lBQ2pCLElBQUksQ0FBQyxpQkFBaUIsRUFBRSxDQUFBO1lBQ3hCLElBQUksQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFBO1FBQ3RCLENBQUM7SUFDSCxDQUFDO0lBRUQsdUJBQUcsR0FBSCxVQUFJLE1BQWM7UUFDaEIsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDOUIsTUFBTSxDQUFDLE9BQU8sRUFBRSxDQUFBO1lBQ2hCLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFBO1FBQzFCLENBQUM7SUFDSCxDQUFDO0lBRUQsMEJBQU0sR0FBTixVQUFPLE1BQWM7UUFDbkIsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzdCLElBQUksQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFBO1lBQzNCLE1BQU0sQ0FBQyxVQUFVLEVBQUUsQ0FBQTtRQUNyQixDQUFDO0lBQ0gsQ0FBQztJQUVPLGtDQUFjLEdBQXRCO1FBQ0UsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsVUFBQSxNQUFNLElBQUksT0FBQSxNQUFNLENBQUMsT0FBTyxFQUFFLEVBQWhCLENBQWdCLENBQUMsQ0FBQTtJQUNsRCxDQUFDO0lBRU8scUNBQWlCLEdBQXpCO1FBQ0UsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsVUFBQSxNQUFNLElBQUksT0FBQSxNQUFNLENBQUMsVUFBVSxFQUFFLEVBQW5CLENBQW1CLENBQUMsQ0FBQTtJQUNyRCxDQUFDO0lBQ0gsZ0JBQUM7QUFBRCxDQUFDLEFBOUNELElBOENDIn0=","export function add(map, key, value) {\n    fetch(map, key).add(value);\n}\nexport function del(map, key, value) {\n    fetch(map, key).delete(value);\n    prune(map, key);\n}\nexport function fetch(map, key) {\n    var values = map.get(key);\n    if (!values) {\n        values = new Set();\n        map.set(key, values);\n    }\n    return values;\n}\nexport function prune(map, key) {\n    var values = map.get(key);\n    if (values != null && values.size == 0) {\n        map.delete(key);\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2V0X29wZXJhdGlvbnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wYWNrYWdlcy9Ac3RpbXVsdXMvbXVsdGltYXAvc3JjL3NldF9vcGVyYXRpb25zLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE1BQU0sY0FBb0IsR0FBbUIsRUFBRSxHQUFNLEVBQUUsS0FBUTtJQUM3RCxLQUFLLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQTtBQUM1QixDQUFDO0FBRUQsTUFBTSxjQUFvQixHQUFtQixFQUFFLEdBQU0sRUFBRSxLQUFRO0lBQzdELEtBQUssQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFBO0lBQzdCLEtBQUssQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUE7QUFDakIsQ0FBQztBQUVELE1BQU0sZ0JBQXNCLEdBQW1CLEVBQUUsR0FBTTtJQUNyRCxJQUFJLE1BQU0sR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFBO0lBQ3pCLEVBQUUsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztRQUNaLE1BQU0sR0FBRyxJQUFJLEdBQUcsRUFBRSxDQUFBO1FBQ2xCLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxDQUFBO0lBQ3RCLENBQUM7SUFDRCxNQUFNLENBQUMsTUFBTSxDQUFBO0FBQ2YsQ0FBQztBQUVELE1BQU0sZ0JBQXNCLEdBQW1CLEVBQUUsR0FBTTtJQUNyRCxJQUFNLE1BQU0sR0FBRyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFBO0lBQzNCLEVBQUUsQ0FBQyxDQUFDLE1BQU0sSUFBSSxJQUFJLElBQUksTUFBTSxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3ZDLEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUE7SUFDakIsQ0FBQztBQUNILENBQUMifQ==","import { add, del } from \"./set_operations\";\nvar Multimap = /** @class */ (function () {\n    function Multimap() {\n        this.valuesByKey = new Map();\n    }\n    Object.defineProperty(Multimap.prototype, \"values\", {\n        get: function () {\n            var sets = Array.from(this.valuesByKey.values());\n            return sets.reduce(function (values, set) { return values.concat(Array.from(set)); }, []);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Multimap.prototype, \"size\", {\n        get: function () {\n            var sets = Array.from(this.valuesByKey.values());\n            return sets.reduce(function (size, set) { return size + set.size; }, 0);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Multimap.prototype.add = function (key, value) {\n        add(this.valuesByKey, key, value);\n    };\n    Multimap.prototype.delete = function (key, value) {\n        del(this.valuesByKey, key, value);\n    };\n    Multimap.prototype.has = function (key, value) {\n        var values = this.valuesByKey.get(key);\n        return values != null && values.has(value);\n    };\n    Multimap.prototype.hasKey = function (key) {\n        return this.valuesByKey.has(key);\n    };\n    Multimap.prototype.hasValue = function (value) {\n        var sets = Array.from(this.valuesByKey.values());\n        return sets.some(function (set) { return set.has(value); });\n    };\n    Multimap.prototype.getValuesForKey = function (key) {\n        var values = this.valuesByKey.get(key);\n        return values ? Array.from(values) : [];\n    };\n    Multimap.prototype.getKeysForValue = function (value) {\n        return Array.from(this.valuesByKey)\n            .filter(function (_a) {\n            var key = _a[0], values = _a[1];\n            return values.has(value);\n        })\n            .map(function (_a) {\n            var key = _a[0], values = _a[1];\n            return key;\n        });\n    };\n    return Multimap;\n}());\nexport { Multimap };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibXVsdGltYXAuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wYWNrYWdlcy9Ac3RpbXVsdXMvbXVsdGltYXAvc3JjL211bHRpbWFwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLE1BQU0sa0JBQWtCLENBQUE7QUFFM0M7SUFHRTtRQUNFLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxHQUFHLEVBQWEsQ0FBQTtJQUN6QyxDQUFDO0lBRUQsc0JBQUksNEJBQU07YUFBVjtZQUNFLElBQU0sSUFBSSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFBO1lBQ2xELE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFVBQUMsTUFBTSxFQUFFLEdBQUcsSUFBSyxPQUFBLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUE5QixDQUE4QixFQUFRLEVBQUUsQ0FBQyxDQUFBO1FBQy9FLENBQUM7OztPQUFBO0lBRUQsc0JBQUksMEJBQUk7YUFBUjtZQUNFLElBQU0sSUFBSSxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFBO1lBQ2xELE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFVBQUMsSUFBSSxFQUFFLEdBQUcsSUFBSyxPQUFBLElBQUksR0FBRyxHQUFHLENBQUMsSUFBSSxFQUFmLENBQWUsRUFBRSxDQUFDLENBQUMsQ0FBQTtRQUN2RCxDQUFDOzs7T0FBQTtJQUVELHNCQUFHLEdBQUgsVUFBSSxHQUFNLEVBQUUsS0FBUTtRQUNsQixHQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUE7SUFDbkMsQ0FBQztJQUVELHlCQUFNLEdBQU4sVUFBTyxHQUFNLEVBQUUsS0FBUTtRQUNyQixHQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxHQUFHLEVBQUUsS0FBSyxDQUFDLENBQUE7SUFDbkMsQ0FBQztJQUVELHNCQUFHLEdBQUgsVUFBSSxHQUFNLEVBQUUsS0FBUTtRQUNsQixJQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQTtRQUN4QyxNQUFNLENBQUMsTUFBTSxJQUFJLElBQUksSUFBSSxNQUFNLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFBO0lBQzVDLENBQUM7SUFFRCx5QkFBTSxHQUFOLFVBQU8sR0FBTTtRQUNYLE1BQU0sQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQTtJQUNsQyxDQUFDO0lBRUQsMkJBQVEsR0FBUixVQUFTLEtBQVE7UUFDZixJQUFNLElBQUksR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQTtRQUNsRCxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFBLEdBQUcsSUFBSSxPQUFBLEdBQUcsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEVBQWQsQ0FBYyxDQUFDLENBQUE7SUFDekMsQ0FBQztJQUVELGtDQUFlLEdBQWYsVUFBZ0IsR0FBTTtRQUNwQixJQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQTtRQUN4QyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUE7SUFDekMsQ0FBQztJQUVELGtDQUFlLEdBQWYsVUFBZ0IsS0FBUTtRQUN0QixNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDO2FBQ2hDLE1BQU0sQ0FBQyxVQUFDLEVBQWE7Z0JBQVosV0FBRyxFQUFFLGNBQU07WUFBTSxPQUFBLE1BQU0sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDO1FBQWpCLENBQWlCLENBQUM7YUFDNUMsR0FBRyxDQUFDLFVBQUMsRUFBYTtnQkFBWixXQUFHLEVBQUUsY0FBTTtZQUFNLE9BQUEsR0FBRztRQUFILENBQUcsQ0FBQyxDQUFBO0lBQ2hDLENBQUM7SUFDSCxlQUFDO0FBQUQsQ0FBQyxBQWpERCxJQWlEQyJ9","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Multimap } from \"./multimap\";\nimport { add, del } from \"./set_operations\";\nvar IndexedMultimap = /** @class */ (function (_super) {\n    __extends(IndexedMultimap, _super);\n    function IndexedMultimap() {\n        var _this = _super.call(this) || this;\n        _this.keysByValue = new Map;\n        return _this;\n    }\n    Object.defineProperty(IndexedMultimap.prototype, \"values\", {\n        get: function () {\n            return Array.from(this.keysByValue.keys());\n        },\n        enumerable: true,\n        configurable: true\n    });\n    IndexedMultimap.prototype.add = function (key, value) {\n        _super.prototype.add.call(this, key, value);\n        add(this.keysByValue, value, key);\n    };\n    IndexedMultimap.prototype.delete = function (key, value) {\n        _super.prototype.delete.call(this, key, value);\n        del(this.keysByValue, value, key);\n    };\n    IndexedMultimap.prototype.hasValue = function (value) {\n        return this.keysByValue.has(value);\n    };\n    IndexedMultimap.prototype.getKeysForValue = function (value) {\n        var set = this.keysByValue.get(value);\n        return set ? Array.from(set) : [];\n    };\n    return IndexedMultimap;\n}(Multimap));\nexport { IndexedMultimap };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXhlZF9tdWx0aW1hcC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3BhY2thZ2VzL0BzdGltdWx1cy9tdWx0aW1hcC9zcmMvaW5kZXhlZF9tdWx0aW1hcC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLFlBQVksQ0FBQTtBQUNyQyxPQUFPLEVBQUUsR0FBRyxFQUFFLEdBQUcsRUFBRSxNQUFNLGtCQUFrQixDQUFBO0FBRTNDO0lBQTJDLG1DQUFjO0lBR3ZEO1FBQUEsWUFDRSxpQkFBTyxTQUVSO1FBREMsS0FBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLEdBQUcsQ0FBQTs7SUFDNUIsQ0FBQztJQUVELHNCQUFJLG1DQUFNO2FBQVY7WUFDRSxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUE7UUFDNUMsQ0FBQzs7O09BQUE7SUFFRCw2QkFBRyxHQUFILFVBQUksR0FBTSxFQUFFLEtBQVE7UUFDbEIsaUJBQU0sR0FBRyxZQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQTtRQUNyQixHQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxLQUFLLEVBQUUsR0FBRyxDQUFDLENBQUE7SUFDbkMsQ0FBQztJQUVELGdDQUFNLEdBQU4sVUFBTyxHQUFNLEVBQUUsS0FBUTtRQUNyQixpQkFBTSxNQUFNLFlBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFBO1FBQ3hCLEdBQUcsQ0FBQyxJQUFJLENBQUMsV0FBVyxFQUFFLEtBQUssRUFBRSxHQUFHLENBQUMsQ0FBQTtJQUNuQyxDQUFDO0lBRUQsa0NBQVEsR0FBUixVQUFTLEtBQVE7UUFDZixNQUFNLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUE7SUFDcEMsQ0FBQztJQUVELHlDQUFlLEdBQWYsVUFBZ0IsS0FBUTtRQUN0QixJQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQTtRQUN2QyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUE7SUFDbkMsQ0FBQztJQUNILHNCQUFDO0FBQUQsQ0FBQyxBQTlCRCxDQUEyQyxRQUFRLEdBOEJsRCJ9","var ElementObserver = /** @class */ (function () {\n    function ElementObserver(element, delegate) {\n        var _this = this;\n        this.element = element;\n        this.started = false;\n        this.delegate = delegate;\n        this.elements = new Set;\n        this.mutationObserver = new MutationObserver(function (mutations) { return _this.processMutations(mutations); });\n    }\n    ElementObserver.prototype.start = function () {\n        if (!this.started) {\n            this.mutationObserver.observe(this.element, { attributes: true, childList: true, subtree: true });\n            this.started = true;\n            this.refresh();\n        }\n    };\n    ElementObserver.prototype.stop = function () {\n        if (this.started) {\n            this.mutationObserver.takeRecords();\n            this.mutationObserver.disconnect();\n            this.started = false;\n        }\n    };\n    ElementObserver.prototype.refresh = function () {\n        if (this.started) {\n            var matches = new Set(this.matchElementsInTree());\n            for (var _i = 0, _a = Array.from(this.elements); _i < _a.length; _i++) {\n                var element = _a[_i];\n                if (!matches.has(element)) {\n                    this.removeElement(element);\n                }\n            }\n            for (var _b = 0, _c = Array.from(matches); _b < _c.length; _b++) {\n                var element = _c[_b];\n                this.addElement(element);\n            }\n        }\n    };\n    // Mutation record processing\n    ElementObserver.prototype.processMutations = function (mutations) {\n        for (var _i = 0, mutations_1 = mutations; _i < mutations_1.length; _i++) {\n            var mutation = mutations_1[_i];\n            this.processMutation(mutation);\n        }\n    };\n    ElementObserver.prototype.processMutation = function (mutation) {\n        if (mutation.type == \"attributes\") {\n            this.processAttributeChange(mutation.target, mutation.attributeName);\n        }\n        else if (mutation.type == \"childList\") {\n            this.processRemovedNodes(mutation.removedNodes);\n            this.processAddedNodes(mutation.addedNodes);\n        }\n    };\n    ElementObserver.prototype.processAttributeChange = function (node, attributeName) {\n        var element = node;\n        if (this.elements.has(element)) {\n            if (this.delegate.elementAttributeChanged && this.matchElement(element)) {\n                this.delegate.elementAttributeChanged(element, attributeName);\n            }\n            else {\n                this.removeElement(element);\n            }\n        }\n        else if (this.matchElement(element)) {\n            this.addElement(element);\n        }\n    };\n    ElementObserver.prototype.processRemovedNodes = function (nodes) {\n        for (var _i = 0, _a = Array.from(nodes); _i < _a.length; _i++) {\n            var node = _a[_i];\n            this.processNode(node, this.removeElement);\n        }\n    };\n    ElementObserver.prototype.processAddedNodes = function (nodes) {\n        for (var _i = 0, _a = Array.from(nodes); _i < _a.length; _i++) {\n            var node = _a[_i];\n            this.processNode(node, this.addElement);\n        }\n    };\n    // Element matching\n    ElementObserver.prototype.matchElement = function (element) {\n        return this.delegate.matchElement(element);\n    };\n    ElementObserver.prototype.matchElementsInTree = function (tree) {\n        if (tree === void 0) { tree = this.element; }\n        return this.delegate.matchElementsInTree(tree);\n    };\n    ElementObserver.prototype.processNode = function (node, processor) {\n        var tree = this.elementFromNode(node);\n        if (tree) {\n            for (var _i = 0, _a = this.matchElementsInTree(tree); _i < _a.length; _i++) {\n                var element = _a[_i];\n                processor.call(this, element);\n            }\n        }\n    };\n    ElementObserver.prototype.elementFromNode = function (node) {\n        if (node.nodeType == Node.ELEMENT_NODE) {\n            return node;\n        }\n    };\n    // Element tracking\n    ElementObserver.prototype.addElement = function (element) {\n        if (!this.elements.has(element)) {\n            this.elements.add(element);\n            if (this.delegate.elementMatched) {\n                this.delegate.elementMatched(element);\n            }\n        }\n    };\n    ElementObserver.prototype.removeElement = function (element) {\n        if (this.elements.has(element)) {\n            this.elements.delete(element);\n            if (this.delegate.elementUnmatched) {\n                this.delegate.elementUnmatched(element);\n            }\n        }\n    };\n    return ElementObserver;\n}());\nexport { ElementObserver };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWxlbWVudF9vYnNlcnZlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3BhY2thZ2VzL0BzdGltdWx1cy9tdXRhdGlvbi1vYnNlcnZlcnMvc3JjL2VsZW1lbnRfb2JzZXJ2ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBU0E7SUFRRSx5QkFBWSxPQUFPLEVBQUUsUUFBUTtRQUE3QixpQkFPQztRQU5DLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFBO1FBQ3RCLElBQUksQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFBO1FBQ3BCLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFBO1FBRXhCLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxHQUFHLENBQUE7UUFDdkIsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksZ0JBQWdCLENBQUMsVUFBQyxTQUFTLElBQUssT0FBQSxLQUFJLENBQUMsZ0JBQWdCLENBQUMsU0FBUyxDQUFDLEVBQWhDLENBQWdDLENBQUMsQ0FBQTtJQUMvRixDQUFDO0lBRUQsK0JBQUssR0FBTDtRQUNFLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7WUFDbEIsSUFBSSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLEVBQUUsVUFBVSxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLE9BQU8sRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFBO1lBQ2pHLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFBO1lBQ25CLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQTtRQUNoQixDQUFDO0lBQ0gsQ0FBQztJQUVELDhCQUFJLEdBQUo7UUFDRSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztZQUNqQixJQUFJLENBQUMsZ0JBQWdCLENBQUMsV0FBVyxFQUFFLENBQUE7WUFDbkMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLFVBQVUsRUFBRSxDQUFBO1lBQ2xDLElBQUksQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFBO1FBQ3RCLENBQUM7SUFDSCxDQUFDO0lBRUQsaUNBQU8sR0FBUDtRQUNFLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1lBQ2pCLElBQU0sT0FBTyxHQUFHLElBQUksR0FBRyxDQUFDLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDLENBQUE7WUFFbkQsR0FBRyxDQUFDLENBQWtCLFVBQXlCLEVBQXpCLEtBQUEsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQXpCLGNBQXlCLEVBQXpCLElBQXlCO2dCQUExQyxJQUFNLE9BQU8sU0FBQTtnQkFDaEIsRUFBRSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztvQkFDMUIsSUFBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsQ0FBQTtnQkFDN0IsQ0FBQzthQUNGO1lBRUQsR0FBRyxDQUFDLENBQWtCLFVBQW1CLEVBQW5CLEtBQUEsS0FBSyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBbkIsY0FBbUIsRUFBbkIsSUFBbUI7Z0JBQXBDLElBQU0sT0FBTyxTQUFBO2dCQUNoQixJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFBO2FBQ3pCO1FBQ0gsQ0FBQztJQUNILENBQUM7SUFFRCw2QkFBNkI7SUFFckIsMENBQWdCLEdBQXhCLFVBQXlCLFNBQTJCO1FBQ2xELEdBQUcsQ0FBQyxDQUFtQixVQUFTLEVBQVQsdUJBQVMsRUFBVCx1QkFBUyxFQUFULElBQVM7WUFBM0IsSUFBTSxRQUFRLGtCQUFBO1lBQ2pCLElBQUksQ0FBQyxlQUFlLENBQUMsUUFBUSxDQUFDLENBQUE7U0FDL0I7SUFDSCxDQUFDO0lBRU8seUNBQWUsR0FBdkIsVUFBd0IsUUFBd0I7UUFDOUMsRUFBRSxDQUFDLENBQUMsUUFBUSxDQUFDLElBQUksSUFBSSxZQUFZLENBQUMsQ0FBQyxDQUFDO1lBQ2xDLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxRQUFRLENBQUMsTUFBTSxFQUFFLFFBQVEsQ0FBQyxhQUFjLENBQUMsQ0FBQTtRQUN2RSxDQUFDO1FBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFJLElBQUksV0FBVyxDQUFDLENBQUMsQ0FBQztZQUN4QyxJQUFJLENBQUMsbUJBQW1CLENBQUMsUUFBUSxDQUFDLFlBQVksQ0FBQyxDQUFBO1lBQy9DLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLENBQUE7UUFDN0MsQ0FBQztJQUNILENBQUM7SUFFTyxnREFBc0IsR0FBOUIsVUFBK0IsSUFBVSxFQUFFLGFBQXFCO1FBQzlELElBQU0sT0FBTyxHQUFHLElBQWUsQ0FBQTtRQUMvQixFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDL0IsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyx1QkFBdUIsSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDeEUsSUFBSSxDQUFDLFFBQVEsQ0FBQyx1QkFBdUIsQ0FBQyxPQUFPLEVBQUUsYUFBYSxDQUFDLENBQUE7WUFDL0QsQ0FBQztZQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNOLElBQUksQ0FBQyxhQUFhLENBQUMsT0FBTyxDQUFDLENBQUE7WUFDN0IsQ0FBQztRQUNILENBQUM7UUFBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdEMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQTtRQUMxQixDQUFDO0lBQ0gsQ0FBQztJQUVPLDZDQUFtQixHQUEzQixVQUE0QixLQUFlO1FBQ3pDLEdBQUcsQ0FBQyxDQUFlLFVBQWlCLEVBQWpCLEtBQUEsS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsRUFBakIsY0FBaUIsRUFBakIsSUFBaUI7WUFBL0IsSUFBTSxJQUFJLFNBQUE7WUFDYixJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUE7U0FDM0M7SUFDSCxDQUFDO0lBRU8sMkNBQWlCLEdBQXpCLFVBQTBCLEtBQWU7UUFDdkMsR0FBRyxDQUFDLENBQWUsVUFBaUIsRUFBakIsS0FBQSxLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxFQUFqQixjQUFpQixFQUFqQixJQUFpQjtZQUEvQixJQUFNLElBQUksU0FBQTtZQUNiLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQTtTQUN4QztJQUNILENBQUM7SUFFRCxtQkFBbUI7SUFFWCxzQ0FBWSxHQUFwQixVQUFxQixPQUFnQjtRQUNuQyxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsT0FBTyxDQUFDLENBQUE7SUFDNUMsQ0FBQztJQUVPLDZDQUFtQixHQUEzQixVQUE0QixJQUE0QjtRQUE1QixxQkFBQSxFQUFBLE9BQWdCLElBQUksQ0FBQyxPQUFPO1FBQ3RELE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxDQUFBO0lBQ2hELENBQUM7SUFFTyxxQ0FBVyxHQUFuQixVQUFvQixJQUFVLEVBQUUsU0FBcUM7UUFDbkUsSUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsQ0FBQTtRQUN2QyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQ1QsR0FBRyxDQUFDLENBQWtCLFVBQThCLEVBQTlCLEtBQUEsSUFBSSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxFQUE5QixjQUE4QixFQUE5QixJQUE4QjtnQkFBL0MsSUFBTSxPQUFPLFNBQUE7Z0JBQ2hCLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFBO2FBQzlCO1FBQ0gsQ0FBQztJQUNILENBQUM7SUFFTyx5Q0FBZSxHQUF2QixVQUF3QixJQUFVO1FBQ2hDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUM7WUFDdkMsTUFBTSxDQUFDLElBQWUsQ0FBQTtRQUN4QixDQUFDO0lBQ0gsQ0FBQztJQUVELG1CQUFtQjtJQUVYLG9DQUFVLEdBQWxCLFVBQW1CLE9BQWdCO1FBQ2pDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2hDLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFBO1lBQzFCLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQztnQkFDakMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLENBQUE7WUFDdkMsQ0FBQztRQUNILENBQUM7SUFDSCxDQUFDO0lBRU8sdUNBQWEsR0FBckIsVUFBc0IsT0FBZ0I7UUFDcEMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQy9CLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFBO1lBQzdCLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDO2dCQUNuQyxJQUFJLENBQUMsUUFBUSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFBO1lBQ3pDLENBQUM7UUFDSCxDQUFDO0lBQ0gsQ0FBQztJQUNILHNCQUFDO0FBQUQsQ0FBQyxBQXZJRCxJQXVJQyJ9","import { ElementObserver } from \"./element_observer\";\nimport { IndexedMultimap } from \"@stimulus/multimap\";\nvar TokenListObserver = /** @class */ (function () {\n    function TokenListObserver(element, attributeName, delegate) {\n        this.attributeName = attributeName;\n        this.delegate = delegate;\n        this.elementObserver = new ElementObserver(element, this);\n        this.tokensByElement = new IndexedMultimap;\n    }\n    Object.defineProperty(TokenListObserver.prototype, \"started\", {\n        get: function () {\n            return this.elementObserver.started;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TokenListObserver.prototype.start = function () {\n        this.elementObserver.start();\n    };\n    TokenListObserver.prototype.stop = function () {\n        this.elementObserver.stop();\n    };\n    TokenListObserver.prototype.refresh = function () {\n        this.elementObserver.refresh();\n    };\n    Object.defineProperty(TokenListObserver.prototype, \"element\", {\n        get: function () {\n            return this.elementObserver.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TokenListObserver.prototype, \"selector\", {\n        get: function () {\n            return \"[\" + this.attributeName + \"]\";\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TokenListObserver.prototype.getElementsMatchingToken = function (token) {\n        return this.tokensByElement.getKeysForValue(token);\n    };\n    // Element observer delegate\n    TokenListObserver.prototype.matchElement = function (element) {\n        return element.hasAttribute(this.attributeName);\n    };\n    TokenListObserver.prototype.matchElementsInTree = function (tree) {\n        var match = this.matchElement(tree) ? [tree] : [];\n        var matches = Array.from(tree.querySelectorAll(this.selector));\n        return match.concat(matches);\n    };\n    TokenListObserver.prototype.elementMatched = function (element) {\n        var newTokens = Array.from(this.readTokenSetForElement(element));\n        for (var _i = 0, newTokens_1 = newTokens; _i < newTokens_1.length; _i++) {\n            var token = newTokens_1[_i];\n            this.elementMatchedToken(element, token);\n        }\n    };\n    TokenListObserver.prototype.elementUnmatched = function (element) {\n        var tokens = this.getTokensForElement(element);\n        for (var _i = 0, tokens_1 = tokens; _i < tokens_1.length; _i++) {\n            var token = tokens_1[_i];\n            this.elementUnmatchedToken(element, token);\n        }\n    };\n    TokenListObserver.prototype.elementAttributeChanged = function (element) {\n        var newTokenSet = this.readTokenSetForElement(element);\n        for (var _i = 0, _a = Array.from(newTokenSet); _i < _a.length; _i++) {\n            var token = _a[_i];\n            this.elementMatchedToken(element, token);\n        }\n        for (var _b = 0, _c = this.getTokensForElement(element); _b < _c.length; _b++) {\n            var token = _c[_b];\n            if (!newTokenSet.has(token)) {\n                this.elementUnmatchedToken(element, token);\n            }\n        }\n    };\n    // Private\n    TokenListObserver.prototype.elementMatchedToken = function (element, token) {\n        if (!this.tokensByElement.has(element, token)) {\n            this.tokensByElement.add(element, token);\n            if (this.delegate.elementMatchedTokenForAttribute) {\n                this.delegate.elementMatchedTokenForAttribute(element, token, this.attributeName);\n            }\n        }\n    };\n    TokenListObserver.prototype.elementUnmatchedToken = function (element, token) {\n        if (this.tokensByElement.has(element, token)) {\n            this.tokensByElement.delete(element, token);\n            if (this.delegate.elementUnmatchedTokenForAttribute) {\n                this.delegate.elementUnmatchedTokenForAttribute(element, token, this.attributeName);\n            }\n        }\n    };\n    TokenListObserver.prototype.getTokensForElement = function (element) {\n        return this.tokensByElement.getValuesForKey(element);\n    };\n    TokenListObserver.prototype.readTokenSetForElement = function (element) {\n        var tokens = new Set;\n        var value = element.getAttribute(this.attributeName) || \"\";\n        for (var _i = 0, _a = value.split(/\\s+/); _i < _a.length; _i++) {\n            var token = _a[_i];\n            if (token.length) {\n                tokens.add(token);\n            }\n        }\n        return tokens;\n    };\n    return TokenListObserver;\n}());\nexport { TokenListObserver };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9rZW5fbGlzdF9vYnNlcnZlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3BhY2thZ2VzL0BzdGltdWx1cy9tdXRhdGlvbi1vYnNlcnZlcnMvc3JjL3Rva2VuX2xpc3Rfb2JzZXJ2ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLGVBQWUsRUFBMkIsTUFBTSxvQkFBb0IsQ0FBQTtBQUM3RSxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sb0JBQW9CLENBQUE7QUFPcEQ7SUFPRSwyQkFBWSxPQUFnQixFQUFFLGFBQXFCLEVBQUUsUUFBbUM7UUFDdEYsSUFBSSxDQUFDLGFBQWEsR0FBRyxhQUFhLENBQUE7UUFDbEMsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUE7UUFFeEIsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLGVBQWUsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUE7UUFDekQsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLGVBQWUsQ0FBQTtJQUM1QyxDQUFDO0lBRUQsc0JBQUksc0NBQU87YUFBWDtZQUNFLE1BQU0sQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLE9BQU8sQ0FBQTtRQUNyQyxDQUFDOzs7T0FBQTtJQUVELGlDQUFLLEdBQUw7UUFDRSxJQUFJLENBQUMsZUFBZSxDQUFDLEtBQUssRUFBRSxDQUFBO0lBQzlCLENBQUM7SUFFRCxnQ0FBSSxHQUFKO1FBQ0UsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLEVBQUUsQ0FBQTtJQUM3QixDQUFDO0lBRUQsbUNBQU8sR0FBUDtRQUNFLElBQUksQ0FBQyxlQUFlLENBQUMsT0FBTyxFQUFFLENBQUE7SUFDaEMsQ0FBQztJQUVELHNCQUFJLHNDQUFPO2FBQVg7WUFDRSxNQUFNLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxPQUFPLENBQUE7UUFDckMsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSx1Q0FBUTthQUFaO1lBQ0UsTUFB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","import { ElementObserver } from \"./element_observer\";\nvar AttributeObserver = /** @class */ (function () {\n    function AttributeObserver(element, attributeName, delegate) {\n        this.attributeName = attributeName;\n        this.delegate = delegate;\n        this.elementObserver = new ElementObserver(element, this);\n    }\n    Object.defineProperty(AttributeObserver.prototype, \"element\", {\n        get: function () {\n            return this.elementObserver.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(AttributeObserver.prototype, \"selector\", {\n        get: function () {\n            return \"[\" + this.attributeName + \"]\";\n        },\n        enumerable: true,\n        configurable: true\n    });\n    AttributeObserver.prototype.start = function () {\n        this.elementObserver.start();\n    };\n    AttributeObserver.prototype.stop = function () {\n        this.elementObserver.stop();\n    };\n    // Element observer delegate\n    AttributeObserver.prototype.matchElement = function (element) {\n        return element.hasAttribute(this.attributeName);\n    };\n    AttributeObserver.prototype.matchElementsInTree = function (tree) {\n        var match = this.matchElement(tree) ? [tree] : [];\n        var matches = Array.from(tree.querySelectorAll(this.selector));\n        return match.concat(matches);\n    };\n    AttributeObserver.prototype.elementMatched = function (element) {\n        if (this.delegate.elementMatchedAttribute) {\n            this.delegate.elementMatchedAttribute(element, this.attributeName);\n        }\n    };\n    AttributeObserver.prototype.elementUnmatched = function (element) {\n        if (this.delegate.elementUnmatchedAttribute) {\n            this.delegate.elementUnmatchedAttribute(element, this.attributeName);\n        }\n    };\n    AttributeObserver.prototype.elementAttributeChanged = function (element, attributeName) {\n        if (this.delegate.elementAttributeValueChanged && this.attributeName == attributeName) {\n            this.delegate.elementAttributeValueChanged(element, attributeName);\n        }\n    };\n    return AttributeObserver;\n}());\nexport { AttributeObserver };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXR0cmlidXRlX29ic2VydmVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcGFja2FnZXMvQHN0aW11bHVzL211dGF0aW9uLW9ic2VydmVycy9zcmMvYXR0cmlidXRlX29ic2VydmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxlQUFlLEVBQTJCLE1BQU0sb0JBQW9CLENBQUE7QUFRN0U7SUFNRSwyQkFBWSxPQUFnQixFQUFFLGFBQXFCLEVBQUUsUUFBbUM7UUFDdEYsSUFBSSxDQUFDLGFBQWEsR0FBRyxhQUFhLENBQUE7UUFDbEMsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUE7UUFFeEIsSUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLGVBQWUsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUE7SUFDM0QsQ0FBQztJQUVELHNCQUFJLHNDQUFPO2FBQVg7WUFDRSxNQUFNLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxPQUFPLENBQUE7UUFDckMsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSx1Q0FBUTthQUFaO1lBQ0UsTUFBTSxDQUFDLE1BQUksSUFBSSxDQUFDLGFBQWEsTUFBRyxDQUFBO1FBQ2xDLENBQUM7OztPQUFBO0lBRUQsaUNBQUssR0FBTDtRQUNFLElBQUksQ0FBQyxlQUFlLENBQUMsS0FBSyxFQUFFLENBQUE7SUFDOUIsQ0FBQztJQUVELGdDQUFJLEdBQUo7UUFDRSxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksRUFBRSxDQUFBO0lBQzdCLENBQUM7SUFFRCw0QkFBNEI7SUFFNUIsd0NBQVksR0FBWixVQUFhLE9BQWdCO1FBQzNCLE1BQU0sQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQTtJQUNqRCxDQUFDO0lBRUQsK0NBQW1CLEdBQW5CLFVBQW9CLElBQWE7UUFDL0IsSUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFBO1FBQ25ELElBQU0sT0FBTyxHQUFHLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFBO1FBQ2hFLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFBO0lBQzlCLENBQUM7SUFFRCwwQ0FBYyxHQUFkLFVBQWUsT0FBZ0I7UUFDN0IsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDLENBQUM7WUFDMUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyx1QkFBdUIsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFBO1FBQ3BFLENBQUM7SUFDSCxDQUFDO0lBRUQsNENBQWdCLEdBQWhCLFVBQWlCLE9BQWdCO1FBQy9CLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMseUJBQXlCLENBQUMsQ0FBQyxDQUFDO1lBQzVDLElBQUksQ0FBQyxRQUFRLENBQUMseUJBQXlCLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQTtRQUN0RSxDQUFDO0lBQ0gsQ0FBQztJQUVELG1EQUF1QixHQUF2QixVQUF3QixPQUFnQixFQUFFLGFBQXFCO1FBQzdELEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsNEJBQTRCLElBQUksSUFBSSxDQUFDLGFBQWEsSUFBSSxhQUFhLENBQUMsQ0FBQyxDQUFDO1lBQ3RGLElBQUksQ0FBQyxRQUFRLENBQUMsNEJBQTRCLENBQUMsT0FBTyxFQUFFLGFBQWEsQ0FBQyxDQUFBO1FBQ3BFLENBQUM7SUFDSCxDQUFDO0lBQ0gsd0JBQUM7QUFBRCxDQUFDLEFBMURELElBMERDIn0=","import { Action } from \"./action\";\nimport { ActionDescriptor } from \"./action_descriptor\";\nimport { Multimap } from \"@stimulus/multimap\";\nimport { TokenListObserver } from \"@stimulus/mutation-observers\";\nvar InlineActionObserver = /** @class */ (function () {\n    function InlineActionObserver(context, delegate) {\n        this.context = context;\n        this.delegate = delegate;\n        this.tokenListObserver = new TokenListObserver(this.element, this.attributeName, this);\n        this.connectedActions = new Multimap();\n    }\n    Object.defineProperty(InlineActionObserver.prototype, \"scope\", {\n        get: function () {\n            return this.context.scope;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(InlineActionObserver.prototype, \"schema\", {\n        get: function () {\n            return this.context.schema;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(InlineActionObserver.prototype, \"attributeName\", {\n        get: function () {\n            return this.schema.actionAttribute;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(InlineActionObserver.prototype, \"element\", {\n        get: function () {\n            return this.scope.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(InlineActionObserver.prototype, \"identifier\", {\n        get: function () {\n            return this.scope.identifier;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    InlineActionObserver.prototype.start = function () {\n        this.tokenListObserver.start();\n    };\n    InlineActionObserver.prototype.stop = function () {\n        this.tokenListObserver.stop();\n    };\n    // Token list observer delegate\n    /** @private */\n    InlineActionObserver.prototype.elementMatchedTokenForAttribute = function (element, token, attributeName) {\n        if (this.scope.containsElement(element)) {\n            var action = this.buildActionForElementWithDescriptorString(element, token);\n            if (action) {\n                this.connectedActions.add(element, action);\n                this.delegate.inlineActionConnected(action);\n            }\n        }\n    };\n    /** @private */\n    InlineActionObserver.prototype.elementUnmatchedTokenForAttribute = function (element, token, attributeName) {\n        var action = this.getConnectedActionForElementWithDescriptorString(element, token);\n        if (action) {\n            this.connectedActions.delete(element, action);\n            this.delegate.inlineActionDisconnected(action);\n        }\n    };\n    InlineActionObserver.prototype.getConnectedActionForElementWithDescriptorString = function (element, descriptorString) {\n        var newAction = this.buildActionForElementWithDescriptorString(element, descriptorString);\n        if (newAction) {\n            var actions = this.connectedActions.getValuesForKey(element);\n            return actions.find(function (action) { return action.hasSameDescriptorAs(newAction); });\n        }\n    };\n    InlineActionObserver.prototype.buildActionForElementWithDescriptorString = function (element, descriptorString) {\n        try {\n            var descriptor = ActionDescriptor.forElementWithInlineDescriptorString(element, descriptorString);\n            if (descriptor.identifier == this.identifier) {\n                return new Action(this.context, descriptor, descriptor.eventTarget);\n            }\n        }\n        catch (error) {\n            this.context.handleError(error, \"parsing descriptor string \\\"\" + descriptorString + \"\\\"\", { element: element });\n        }\n    };\n    return InlineActionObserver;\n}());\nexport { InlineActionObserver };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5saW5lX2FjdGlvbl9vYnNlcnZlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3BhY2thZ2VzL0BzdGltdWx1cy9jb3JlL3NyYy9pbmxpbmVfYWN0aW9uX29ic2VydmVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxVQUFVLENBQUE7QUFDakMsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0scUJBQXFCLENBQUE7QUFFdEQsT0FBTyxFQUFFLFFBQVEsRUFBRSxNQUFNLG9CQUFvQixDQUFBO0FBRzdDLE9BQU8sRUFBRSxpQkFBaUIsRUFBNkIsTUFBTSw4QkFBOEIsQ0FBQTtBQU8zRjtJQU1FLDhCQUFZLE9BQWdCLEVBQUUsUUFBc0M7UUFDbEUsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUE7UUFDdEIsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUE7UUFDeEIsSUFBSSxDQUFDLGlCQUFpQixHQUFHLElBQUksaUJBQWlCLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxDQUFBO1FBQ3RGLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLFFBQVEsRUFBbUIsQ0FBQTtJQUN6RCxDQUFDO0lBRUQsc0JBQUksdUNBQUs7YUFBVDtZQUNFLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQTtRQUMzQixDQUFDOzs7T0FBQTtJQUVELHNCQUFJLHdDQUFNO2FBQVY7WUFDRSxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUE7UUFDNUIsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSwrQ0FBYTthQUFqQjtZQUNFLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLGVBQWUsQ0FBQTtRQUNwQyxDQUFDOzs7T0FBQTtJQUVELHNCQUFJLHlDQUFPO2FBQVg7WUFDRSxNQUFNLENB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","var DataMap = /** @class */ (function () {\n    function DataMap(scope) {\n        this.scope = scope;\n    }\n    Object.defineProperty(DataMap.prototype, \"element\", {\n        get: function () {\n            return this.scope.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(DataMap.prototype, \"identifier\", {\n        get: function () {\n            return this.scope.identifier;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    DataMap.prototype.get = function (key) {\n        key = this.getFormattedKey(key);\n        return this.element.getAttribute(key);\n    };\n    DataMap.prototype.set = function (key, value) {\n        key = this.getFormattedKey(key);\n        this.element.setAttribute(key, value);\n        return this.get(key);\n    };\n    DataMap.prototype.has = function (key) {\n        key = this.getFormattedKey(key);\n        return this.element.hasAttribute(key);\n    };\n    DataMap.prototype.delete = function (key) {\n        if (this.has(key)) {\n            key = this.getFormattedKey(key);\n            this.element.removeAttribute(key);\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    DataMap.prototype.getFormattedKey = function (key) {\n        return \"data-\" + this.identifier + \"-\" + dasherize(key);\n    };\n    return DataMap;\n}());\nexport { DataMap };\nfunction dasherize(value) {\n    return value.toString().replace(/([A-Z])/g, function (_, char) { return \"-\" + char.toLowerCase(); });\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0YV9tYXAuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wYWNrYWdlcy9Ac3RpbXVsdXMvY29yZS9zcmMvZGF0YV9tYXAudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7SUFHRSxpQkFBWSxLQUFZO1FBQ3RCLElBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFBO0lBQ3BCLENBQUM7SUFFRCxzQkFBSSw0QkFBTzthQUFYO1lBQ0UsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFBO1FBQzNCLENBQUM7OztPQUFBO0lBRUQsc0JBQUksK0JBQVU7YUFBZDtZQUNFLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQTtRQUM5QixDQUFDOzs7T0FBQTtJQUVELHFCQUFHLEdBQUgsVUFBSSxHQUFXO1FBQ2IsR0FBRyxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLENBQUE7UUFDL0IsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxDQUFBO0lBQ3ZDLENBQUM7SUFFRCxxQkFBRyxHQUFILFVBQUksR0FBVyxFQUFFLEtBQUs7UUFDcEIsR0FBRyxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLENBQUE7UUFDL0IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFBO1FBQ3JDLE1BQU0sQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFBO0lBQ3RCLENBQUM7SUFFRCxxQkFBRyxHQUFILFVBQUksR0FBVztRQUNiLEdBQUcsR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQy9CLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFlBQVksQ0FBQyxHQUFHLENBQUMsQ0FBQTtJQUN2QyxDQUFDO0lBRUQsd0JBQU0sR0FBTixVQUFPLEdBQVc7UUFDaEIsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDbEIsR0FBRyxHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLENBQUE7WUFDL0IsSUFBSSxDQUFDLE9BQU8sQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLENBQUE7WUFDakMsTUFBTSxDQUFDLElBQUksQ0FBQTtRQUNiLENBQUM7UUFBQyxJQUFJLENBQUMsQ0FBQztZQUNOLE1BQU0sQ0FBQyxLQUFLLENBQUE7UUFDZCxDQUFDO0lBQ0gsQ0FBQztJQUVPLGlDQUFlLEdBQXZCLFVBQXdCLEdBQUc7UUFDekIsTUFBTSxDQUFDLFVBQVEsSUFBSSxDQUFDLFVBQVUsU0FBSSxTQUFTLENBQUMsR0FBRyxDQUFHLENBQUE7SUFDcEQsQ0FBQztJQUNILGNBQUM7QUFBRCxDQUFDLEFBNUNELElBNENDOztBQUVELG1CQUFtQixLQUFLO0lBQ3RCLE1BQU0sQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFLENBQUMsT0FBTyxDQUFDLFVBQVUsRUFBRSxVQUFDLENBQUMsRUFBRSxJQUFJLElBQUssT0FBQSxNQUFJLElBQUksQ0FBQyxXQUFXLEVBQUksRUFBeEIsQ0FBd0IsQ0FBQyxDQUFBO0FBQ3BGLENBQUMifQ==","/** @private */\nexport function attributeValueContainsToken(attributeName, token) {\n    return \"[\" + attributeName + \"~=\\\"\" + token + \"\\\"]\";\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VsZWN0b3JzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcGFja2FnZXMvQHN0aW11bHVzL2NvcmUvc3JjL3NlbGVjdG9ycy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxlQUFlO0FBQ2YsTUFBTSxzQ0FBc0MsYUFBcUIsRUFBRSxLQUFhO0lBQzlFLE1BQU0sQ0FBQyxNQUFJLGFBQWEsWUFBTSxLQUFLLFFBQUksQ0FBQTtBQUN6QyxDQUFDIn0=","import { attributeValueContainsToken } from \"./selectors\";\nvar TargetSet = /** @class */ (function () {\n    function TargetSet(scope) {\n        this.scope = scope;\n    }\n    Object.defineProperty(TargetSet.prototype, \"element\", {\n        get: function () {\n            return this.scope.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TargetSet.prototype, \"identifier\", {\n        get: function () {\n            return this.scope.identifier;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TargetSet.prototype, \"schema\", {\n        get: function () {\n            return this.scope.schema;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TargetSet.prototype.has = function (targetName) {\n        return this.find(targetName) != null;\n    };\n    TargetSet.prototype.find = function () {\n        var targetNames = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            targetNames[_i] = arguments[_i];\n        }\n        var selector = this.getSelectorForTargetNames(targetNames);\n        return this.scope.findElement(selector);\n    };\n    TargetSet.prototype.findAll = function () {\n        var targetNames = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            targetNames[_i] = arguments[_i];\n        }\n        var selector = this.getSelectorForTargetNames(targetNames);\n        return this.scope.findAllElements(selector);\n    };\n    TargetSet.prototype.getSelectorForTargetNames = function (targetNames) {\n        var _this = this;\n        return targetNames.map(function (targetName) { return _this.getSelectorForTargetName(targetName); }).join(\", \");\n    };\n    TargetSet.prototype.getSelectorForTargetName = function (targetName) {\n        var targetDescriptor = this.identifier + \".\" + targetName;\n        return attributeValueContainsToken(this.schema.targetAttribute, targetDescriptor);\n    };\n    return TargetSet;\n}());\nexport { TargetSet };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFyZ2V0X3NldC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3BhY2thZ2VzL0BzdGltdWx1cy9jb3JlL3NyYy90YXJnZXRfc2V0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE9BQU8sRUFBRSwyQkFBMkIsRUFBRSxNQUFNLGFBQWEsQ0FBQTtBQUV6RDtJQUdFLG1CQUFZLEtBQVk7UUFDdEIsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUE7SUFDcEIsQ0FBQztJQUVELHNCQUFJLDhCQUFPO2FBQVg7WUFDRSxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUE7UUFDM0IsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSxpQ0FBVTthQUFkO1lBQ0UsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFBO1FBQzlCLENBQUM7OztPQUFBO0lBRUQsc0JBQUksNkJBQU07YUFBVjtZQUNFLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQTtRQUMxQixDQUFDOzs7T0FBQTtJQUVELHVCQUFHLEdBQUgsVUFBSSxVQUFrQjtRQUNwQixNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxJQUFJLENBQUE7SUFDdEMsQ0FBQztJQUVELHdCQUFJLEdBQUo7UUFBSyxxQkFBd0I7YUFBeEIsVUFBd0IsRUFBeEIscUJBQXdCLEVBQXhCLElBQXdCO1lBQXhCLGdDQUF3Qjs7UUFDM0IsSUFBTSxRQUFRLEdBQUcsSUFBSSxDQUFDLHlCQUF5QixDQUFDLFdBQVcsQ0FBQyxDQUFBO1FBQzVELE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQTtJQUN6QyxDQUFDO0lBRUQsMkJBQU8sR0FBUDtRQUFRLHFCQUF3QjthQUF4QixVQUF3QixFQUF4QixxQkFBd0IsRUFBeEIsSUFBd0I7WUFBeEIsZ0NBQXdCOztRQUM5QixJQUFNLFFBQVEsR0FBRyxJQUFJLENBQUMseUJBQXlCLENBQUMsV0FBVyxDQUFDLENBQUE7UUFDNUQsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsZUFBZSxDQUFDLFFBQVEsQ0FBQyxDQUFBO0lBQzdDLENBQUM7SUFFTyw2Q0FBeUIsR0FBakMsVUFBa0MsV0FBcUI7UUFBdkQsaUJBRUM7UUFEQyxNQUFNLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxVQUFBLFVBQVUsSUFBSSxPQUFBLEtBQUksQ0FBQyx3QkFBd0IsQ0FBQyxVQUFVLENBQUMsRUFBekMsQ0FBeUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQTtJQUM1RixDQUFDO0lBRU8sNENBQXdCLEdBQWhDLFVBQWlDLFVBQWtCO1FBQ2pELElBQU0sZ0JBQWdCLEdBQU0sSUFBSSxDQUFDLFVBQVUsU0FBSSxVQUFZLENBQUE7UUFDM0QsTUFBTSxDQUFDLDJCQUEyQixDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsZUFBZSxFQUFFLGdCQUFnQixDQUFDLENBQUE7SUFDbkYsQ0FBQztJQUNILGdCQUFDO0FBQUQsQ0FBQyxBQXpDRCxJQXlDQyJ9","import { DataMap } from \"./data_map\";\nimport { TargetSet } from \"./target_set\";\nimport { attributeValueContainsToken } from \"./selectors\";\nvar Scope = /** @class */ (function () {\n    function Scope(schema, identifier, element) {\n        this.schema = schema;\n        this.identifier = identifier;\n        this.element = element;\n        this.targets = new TargetSet(this);\n        this.data = new DataMap(this);\n    }\n    Scope.prototype.findElement = function (selector) {\n        return this.findAllElements(selector)[0];\n    };\n    Scope.prototype.findAllElements = function (selector) {\n        var head = this.element.matches(selector) ? [this.element] : [];\n        var tail = this.filterElements(Array.from(this.element.querySelectorAll(selector)));\n        return head.concat(tail);\n    };\n    Scope.prototype.filterElements = function (elements) {\n        var _this = this;\n        return elements.filter(function (element) { return _this.containsElement(element); });\n    };\n    Scope.prototype.containsElement = function (element) {\n        return element.closest(this.controllerSelector) === this.element;\n    };\n    Object.defineProperty(Scope.prototype, \"controllerSelector\", {\n        get: function () {\n            return attributeValueContainsToken(this.schema.controllerAttribute, this.identifier);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Scope;\n}());\nexport { Scope };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NvcGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wYWNrYWdlcy9Ac3RpbXVsdXMvY29yZS9zcmMvc2NvcGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLE9BQU8sRUFBRSxNQUFNLFlBQVksQ0FBQTtBQUVwQyxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sY0FBYyxDQUFBO0FBQ3hDLE9BQU8sRUFBRSwyQkFBMkIsRUFBRSxNQUFNLGFBQWEsQ0FBQTtBQUV6RDtJQU9FLGVBQVksTUFBYyxFQUFFLFVBQWtCLEVBQUUsT0FBZ0I7UUFDOUQsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUE7UUFDcEIsSUFBSSxDQUFDLFVBQVUsR0FBRyxVQUFVLENBQUE7UUFDNUIsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUE7UUFDdEIsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQTtRQUNsQyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFBO0lBQy9CLENBQUM7SUFFRCwyQkFBVyxHQUFYLFVBQVksUUFBZ0I7UUFDMUIsTUFBTSxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7SUFDMUMsQ0FBQztJQUVELCtCQUFlLEdBQWYsVUFBZ0IsUUFBZ0I7UUFDOUIsSUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUE7UUFDakUsSUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFBO1FBQ3JGLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFBO0lBQzFCLENBQUM7SUFFRCw4QkFBYyxHQUFkLFVBQWUsUUFBbUI7UUFBbEMsaUJBRUM7UUFEQyxNQUFNLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxVQUFBLE9BQU8sSUFBSSxPQUFBLEtBQUksQ0FBQyxlQUFlLENBQUMsT0FBTyxDQUFDLEVBQTdCLENBQTZCLENBQUMsQ0FBQTtJQUNsRSxDQUFDO0lBRUQsK0JBQWUsR0FBZixVQUFnQixPQUFnQjtRQUM5QixNQUFNLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsS0FBSyxJQUFJLENBQUMsT0FBTyxDQUFBO0lBQ2xFLENBQUM7SUFFRCxzQkFBWSxxQ0FBa0I7YUFBOUI7WUFDRSxNQUFNLENBQUMsMkJBQTJCLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxtQkFBbUIsRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUE7UUFDdEYsQ0FBQzs7O09BQUE7SUFDSCxZQUFDO0FBQUQsQ0FBQyxBQXBDRCxJQW9DQyJ9","import { ActionSet } from \"./action_set\";\nimport { InlineActionObserver } from \"./inline_action_observer\";\nimport { Scope } from \"./scope\";\nvar Context = /** @class */ (function () {\n    function Context(module, element) {\n        this.module = module;\n        this.scope = new Scope(this.schema, this.identifier, element);\n        this.actions = new ActionSet(this);\n        this.inlineActionObserver = new InlineActionObserver(this, this);\n        try {\n            this.controller = new module.controllerConstructor(this);\n            this.controller.initialize();\n        }\n        catch (error) {\n            this.handleError(error, \"initializing controller\");\n        }\n    }\n    Context.prototype.connect = function () {\n        this.actions.start();\n        this.inlineActionObserver.start();\n        try {\n            this.controller.connect();\n        }\n        catch (error) {\n            this.handleError(error, \"connecting controller\");\n        }\n    };\n    Context.prototype.disconnect = function () {\n        try {\n            this.controller.disconnect();\n        }\n        catch (error) {\n            this.handleError(error, \"disconnecting controller\");\n        }\n        this.inlineActionObserver.stop();\n        this.actions.stop();\n    };\n    Object.defineProperty(Context.prototype, \"application\", {\n        get: function () {\n            return this.module.application;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Context.prototype, \"identifier\", {\n        get: function () {\n            return this.module.identifier;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Context.prototype, \"schema\", {\n        get: function () {\n            return this.application.schema;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Context.prototype, \"element\", {\n        get: function () {\n            return this.scope.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Context.prototype, \"parentElement\", {\n        get: function () {\n            return this.element.parentElement;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // Inline action observer delegate\n    /** @private */\n    Context.prototype.inlineActionConnected = function (action) {\n        this.actions.add(action);\n    };\n    /** @private */\n    Context.prototype.inlineActionDisconnected = function (action) {\n        this.actions.delete(action);\n    };\n    // Error handling\n    Context.prototype.handleError = function (error, message, detail) {\n        if (detail === void 0) { detail = {}; }\n        var _a = this, identifier = _a.identifier, controller = _a.controller, element = _a.element;\n        detail = Object.assign({ identifier: identifier, controller: controller, element: element }, detail);\n        this.application.handleError(error, \"Error \" + message, detail);\n    };\n    return Context;\n}());\nexport { Context };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29udGV4dC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3BhY2thZ2VzL0BzdGltdWx1cy9jb3JlL3NyYy9jb250ZXh0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxjQUFjLENBQUE7QUFHeEMsT0FBTyxFQUFFLG9CQUFvQixFQUFnQyxNQUFNLDBCQUEwQixDQUFBO0FBRzdGLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxTQUFTLENBQUE7QUFFL0I7SUFPRSxpQkFBWSxNQUFjLEVBQUUsT0FBZ0I7UUFDMUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUE7UUFDcEIsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxVQUFVLEVBQUUsT0FBTyxDQUFDLENBQUE7UUFDN0QsSUFBSSxDQUFDLE9BQU8sR0FBRyxJQUFJLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQTtRQUNsQyxJQUFJLENBQUMsb0JBQW9CLEdBQUcsSUFBSSxvQkFBb0IsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUE7UUFFaEUsSUFBSSxDQUFDO1lBQ0gsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxJQUFJLENBQUMsQ0FBQTtZQUN4RCxJQUFJLENBQUMsVUFBVSxDQUFDLFVBQVUsRUFBRSxDQUFBO1FBQzlCLENBQUM7UUFBQyxLQUFLLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1lBQ2YsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUseUJBQXlCLENBQUMsQ0FBQTtRQUNwRCxDQUFDO0lBQ0gsQ0FBQztJQUVELHlCQUFPLEdBQVA7UUFDRSxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxDQUFBO1FBQ3BCLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxLQUFLLEVBQUUsQ0FBQTtRQUVqQyxJQUFJLENBQUM7WUFDSCxJQUFJLENBQUMsVUFBVSxDQUFDLE9BQU8sRUFBRSxDQUFBO1FBQzNCLENBQUM7UUFBQyxLQUFLLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1lBQ2YsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsdUJBQXVCLENBQUMsQ0FBQTtRQUNsRCxDQUFDO0lBQ0gsQ0FBQztJQUVELDRCQUFVLEdBQVY7UUFDRSxJQUFJLENBQUM7WUFDSCxJQUFJLENBQUMsVUFBVSxDQUFDLFVBQVUsRUFBRSxDQUFBO1FBQzlCLENBQUM7UUFBQyxLQUFLLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO1lBQ2YsSUFBSSxDQUFDLFdBQVcsQ0FBQyxLQUFLLEVBQUUsMEJBQTBCLENBQUMsQ0FBQTtRQUNyRCxDQUFDO1FBRUQsSUFBSSxDQUFDLG9CQUFvQixDQUFDLElBQUksRUFBRSxDQUFBO1FBQ2hDLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFLENBQUE7SUFDckIsQ0FBQztJQUVELHNCQUFJLGdDQUFXO2FBQWY7WUFDRSxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUE7UUFDaEMsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSwrQkFBVTthQUFkO1lBQ0UsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFBO1FBQy9CLENBQUM7OztPQUFBO0lBRUQsc0JBQUksMkJBQU07YUFBVjtZQUNFLE1BQU0sQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQTtRQUNoQyxDQUFDOzs7T0FBQTtJQUVELHNCQUFJLDRCQUFPO2FBQVg7WUFDRSxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUE7UUFDM0IsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSxrQ0FBYTthQUFqQjtZQUNFLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQTtRQUNuQyxDQUFDOzs7T0FBQTtJQUVELGtDQUFrQztJQUVsQyxlQUFlO0lBQ2YsdUNBQXFCLEdBQXJCLFVBQXNCLE1BQWM7UUFDbEMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUE7SUFDMUIsQ0FBQztJQUVELGVBQWU7SUFDZiwwQ0FBd0IsR0FBeEIsVUFBeUIsTUFBYztRQUNyQyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQTtJQUM3QixDQUFDO0lBRUQsaUJBQWlCO0lBRWpCLDZCQUFXLEdBQVgsVUFBWSxLQUFZLEVBQUUsT0FBZSxFQUFFLE1BQW1CO1FBQW5CLHVCQUFBLEVBQUEsV0FBbUI7UUFDdEQsSUFBQSxTQUEwQyxFQUF4QywwQkFBVSxFQUFFLDBCQUFVLEVBQUUsb0JBQU8sQ0FBUztRQUNoRCxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLFVBQVUsWUFBQSxFQUFFLFVBQVUsWUFBQSxFQUFFLE9BQU8sU0FBQSxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUE7UUFDbkUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsS0FBSyxFQUFFLFdBQVMsT0FBUyxFQUFFLE1BQU0sQ0FBQyxDQUFBO0lBQ2pFLENBQUM7SUFDSCxjQUFDO0FBQUQsQ0FBQyxBQWxGRCxJQWtGQyJ9","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nexport function blessDefinition(definition) {\n    return {\n        identifier: definition.identifier,\n        controllerConstructor: blessControllerConstructor(definition.controllerConstructor)\n    };\n}\nfunction blessControllerConstructor(controllerConstructor) {\n    var constructor = extend(controllerConstructor);\n    constructor.bless();\n    return constructor;\n}\nvar extend = (function () {\n    function extendWithReflect(constructor) {\n        function Controller() {\n            var _newTarget = this && this instanceof Controller ? this.constructor : void 0;\n            return Reflect.construct(constructor, arguments, _newTarget);\n        }\n        Controller.prototype = Object.create(constructor.prototype, {\n            constructor: { value: Controller }\n        });\n        Reflect.setPrototypeOf(Controller, constructor);\n        return Controller;\n    }\n    function testReflectExtension() {\n        var a = function () { this.a.call(this); };\n        var b = extendWithReflect(a);\n        b.prototype.a = function () { };\n        return new b;\n    }\n    try {\n        testReflectExtension();\n        return extendWithReflect;\n    }\n    catch (error) {\n        return function (constructor) { return /** @class */ (function (_super) {\n            __extends(Controller, _super);\n            function Controller() {\n                return _super !== null && _super.apply(this, arguments) || this;\n            }\n            return Controller;\n        }(constructor)); };\n    }\n})();\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGVmaW5pdGlvbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3BhY2thZ2VzL0BzdGltdWx1cy9jb3JlL3NyYy9kZWZpbml0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFPQSxNQUFNLDBCQUEwQixVQUFzQjtJQUNwRCxNQUFNLENBQUM7UUFDTCxVQUFVLEVBQUUsVUFBVSxDQUFDLFVBQVU7UUFDakMscUJBQXFCLEVBQUUsMEJBQTBCLENBQUMsVUFBVSxDQUFDLHFCQUFxQixDQUFDO0tBQ3BGLENBQUE7QUFDSCxDQUFDO0FBRUQsb0NBQW9DLHFCQUE0QztJQUM5RSxJQUFNLFdBQVcsR0FBRyxNQUFNLENBQUMscUJBQXFCLENBQUMsQ0FBQTtJQUNqRCxXQUFXLENBQUMsS0FBSyxFQUFFLENBQUE7SUFDbkIsTUFBTSxDQUFDLFdBQVcsQ0FBQTtBQUNwQixDQUFDO0FBRUQsSUFBTSxNQUFNLEdBQUcsQ0FBQztJQUNkLDJCQUEyQixXQUFXO1FBQ3BDOztZQUNFLE1BQU0sQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLFdBQVcsRUFBRSxTQUFTLGFBQWEsQ0FBQTtRQUM5RCxDQUFDO1FBRUQsVUFBVSxDQUFDLFNBQVMsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxTQUFTLEVBQUU7WUFDMUQsV0FBVyxFQUFFLEVBQUUsS0FBSyxFQUFFLFVBQVUsRUFBRTtTQUNuQyxDQUFDLENBQUE7UUFFRixPQUFPLENBQUMsY0FBYyxDQUFDLFVBQVUsRUFBRSxXQUFXLENBQUMsQ0FBQTtRQUMvQyxNQUFNLENBQUMsVUFBaUIsQ0FBQTtJQUMxQixDQUFDO0lBRUQ7UUFDRSxJQUFNLENBQUMsR0FBRyxjQUFhLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFBLENBQUMsQ0FBQyxDQUFBO1FBQzFDLElBQU0sQ0FBQyxHQUFHLGlCQUFpQixDQUFDLENBQUMsQ0FBQyxDQUFBO1FBQzlCLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxHQUFHLGNBQVksQ0FBQyxDQUFBO1FBQzdCLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQTtJQUNkLENBQUM7SUFFRCxJQUFJLENBQUM7UUFDSCxvQkFBb0IsRUFBRSxDQUFBO1FBQ3RCLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQTtJQUMxQixDQUFDO0lBQUMsS0FBSyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztRQUNmLE1BQU0sQ0FBQyxVQUFDLFdBQVcsSUFBSztZQUF5Qiw4QkFBVztZQUFwQzs7WUFBc0MsQ0FBQztZQUFELGlCQUFDO1FBQUQsQ0FBQyxBQUF2QyxDQUF5QixXQUFXLElBQXBDLENBQXVDLENBQUE7SUFDakUsQ0FBQztBQUNILENBQUMsQ0FBQyxFQUFFLENBQUEifQ==","import { Context } from \"./context\";\nimport { blessDefinition } from \"./definition\";\nvar Module = /** @class */ (function () {\n    function Module(application, definition) {\n        this.application = application;\n        this.definition = blessDefinition(definition);\n        this.contextsByElement = new WeakMap;\n        this.connectedContexts = new Set;\n    }\n    Object.defineProperty(Module.prototype, \"identifier\", {\n        get: function () {\n            return this.definition.identifier;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Module.prototype, \"controllerConstructor\", {\n        get: function () {\n            return this.definition.controllerConstructor;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Module.prototype, \"contexts\", {\n        get: function () {\n            return Array.from(this.connectedContexts);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Module.prototype, \"size\", {\n        get: function () {\n            return this.connectedContexts.size;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Module.prototype.connectElement = function (element) {\n        var context = this.fetchContextForElement(element);\n        if (context && !this.connectedContexts.has(context)) {\n            this.connectedContexts.add(context);\n            context.connect();\n        }\n    };\n    Module.prototype.disconnectElement = function (element) {\n        var context = this.fetchContextForElement(element);\n        if (context && this.connectedContexts.has(context)) {\n            this.connectedContexts.delete(context);\n            context.disconnect();\n        }\n    };\n    Module.prototype.getContextForElement = function (element) {\n        return this.contextsByElement.get(element);\n    };\n    Module.prototype.fetchContextForElement = function (element) {\n        var context = this.contextsByElement.get(element);\n        if (!context) {\n            context = new Context(this, element);\n            this.contextsByElement.set(element, context);\n        }\n        return context;\n    };\n    return Module;\n}());\nexport { Module };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kdWxlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcGFja2FnZXMvQHN0aW11bHVzL2NvcmUvc3JjL21vZHVsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsT0FBTyxFQUFFLE1BQU0sV0FBVyxDQUFBO0FBRW5DLE9BQU8sRUFBYyxlQUFlLEVBQUUsTUFBTSxjQUFjLENBQUE7QUFFMUQ7SUFPRSxnQkFBWSxXQUF3QixFQUFFLFVBQXNCO1FBQzFELElBQUksQ0FBQyxXQUFXLEdBQUcsV0FBVyxDQUFBO1FBQzlCLElBQUksQ0FBQyxVQUFVLEdBQUcsZUFBZSxDQUFDLFVBQVUsQ0FBQyxDQUFBO1FBQzdDLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLE9BQU8sQ0FBQTtRQUNwQyxJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxHQUFHLENBQUE7SUFDbEMsQ0FBQztJQUVELHNCQUFJLDhCQUFVO2FBQWQ7WUFDRSxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxVQUFVLENBQUE7UUFDbkMsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSx5Q0FBcUI7YUFBekI7WUFDRSxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxxQkFBcUIsQ0FBQTtRQUM5QyxDQUFDOzs7T0FBQTtJQUVELHNCQUFJLDRCQUFRO2FBQVo7WUFDRSxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsQ0FBQTtRQUMzQyxDQUFDOzs7T0FBQTtJQUVELHNCQUFJLHdCQUFJO2FBQVI7WUFDRSxNQUFNLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLElBQUksQ0FBQTtRQUNwQyxDQUFDOzs7T0FBQTtJQUVELCtCQUFjLEdBQWQsVUFBZSxPQUFnQjtRQUM3QixJQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsc0JBQXNCLENBQUMsT0FBTyxDQUFDLENBQUE7UUFDcEQsRUFBRSxDQUFDLENBQUMsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDcEQsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQTtZQUNuQyxPQUFPLENBQUMsT0FBTyxFQUFFLENBQUE7UUFDbkIsQ0FBQztJQUNILENBQUM7SUFFRCxrQ0FBaUIsR0FBakIsVUFBa0IsT0FBZ0I7UUFDaEMsSUFBTSxPQUFPLEdBQUcsSUFBSSxDQUFDLHNCQUFzQixDQUFDLE9BQU8sQ0FBQyxDQUFBO1FBQ3BELEVBQUUsQ0FBQyxDQUFDLE9BQU8sSUFBSSxJQUFJLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNuRCxJQUFJLENBQUMsaUJBQWlCLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFBO1lBQ3RDLE9BQU8sQ0FBQyxVQUFVLEVBQUUsQ0FBQTtRQUN0QixDQUFDO0lBQ0gsQ0FBQztJQUVELHFDQUFvQixHQUFwQixVQUFxQixPQUFnQjtRQUNuQyxNQUFNLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQTtJQUM1QyxDQUFDO0lBRU8sdUNBQXNCLEdBQTlCLFVBQStCLE9BQWdCO1FBQzdDLElBQUksT0FBTyxHQUFHLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUE7UUFDakQsRUFBRSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1lBQ2IsT0FBTyxHQUFHLElBQUksT0FBTyxDQUFDLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQTtZQUNwQyxJQUFJLENBQUMsaUJBQWlCLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQTtRQUM5QyxDQUFDO1FBQ0QsTUFBTSxDQUFDLE9BQU8sQ0FBQTtJQUNoQixDQUFDO0lBQ0gsYUFBQztBQUFELENBQUMsQUExREQsSUEwREMifQ==","import { Module } from \"./module\";\nimport { TokenListObserver } from \"@stimulus/mutation-observers\";\nvar Router = /** @class */ (function () {\n    function Router(application) {\n        this.application = application;\n        this.tokenListObserver = new TokenListObserver(this.element, this.controllerAttribute, this);\n        this.modulesByIdentifier = new Map;\n    }\n    Object.defineProperty(Router.prototype, \"schema\", {\n        get: function () {\n            return this.application.schema;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Router.prototype, \"element\", {\n        get: function () {\n            return this.application.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Router.prototype, \"controllerAttribute\", {\n        get: function () {\n            return this.schema.controllerAttribute;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Router.prototype, \"modules\", {\n        get: function () {\n            return Array.from(this.modulesByIdentifier.values());\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Router.prototype.start = function () {\n        this.tokenListObserver.start();\n    };\n    Router.prototype.stop = function () {\n        this.tokenListObserver.stop();\n    };\n    Router.prototype.loadDefinition = function (definition) {\n        var identifier = definition.identifier;\n        this.unloadIdentifier(identifier);\n        var module = new Module(this.application, definition);\n        this.modulesByIdentifier.set(identifier, module);\n        this.connectModule(module);\n    };\n    Router.prototype.unloadIdentifier = function (identifier) {\n        var module = this.modulesByIdentifier.get(identifier);\n        if (module) {\n            this.disconnectModule(module);\n            this.modulesByIdentifier.delete(identifier);\n        }\n    };\n    // Token list observer delegate\n    /** @private */\n    Router.prototype.elementMatchedTokenForAttribute = function (element, token, attributeName) {\n        this.connectModuleForIdentifierToElement(token, element);\n    };\n    /** @private */\n    Router.prototype.elementUnmatchedTokenForAttribute = function (element, token, attributeName) {\n        this.disconnectModuleForIdentifierFromElement(token, element);\n    };\n    Object.defineProperty(Router.prototype, \"contexts\", {\n        // Contexts\n        get: function () {\n            return this.modules.reduce(function (contexts, module) { return contexts.concat(Array.from(module.contexts)); }, []);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Router.prototype.getContextForElementAndIdentifier = function (element, identifier) {\n        var module = this.modulesByIdentifier.get(identifier);\n        if (module) {\n            return module.getContextForElement(element);\n        }\n    };\n    Router.prototype.connectModule = function (module) {\n        var elements = this.tokenListObserver.getElementsMatchingToken(module.identifier);\n        for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n            var element = elements_1[_i];\n            module.connectElement(element);\n        }\n    };\n    Router.prototype.disconnectModule = function (module) {\n        var contexts = module.contexts;\n        for (var _i = 0, contexts_1 = contexts; _i < contexts_1.length; _i++) {\n            var element = contexts_1[_i].element;\n            module.disconnectElement(element);\n        }\n    };\n    Router.prototype.connectModuleForIdentifierToElement = function (identifier, element) {\n        var module = this.modulesByIdentifier.get(identifier);\n        if (module) {\n            module.connectElement(element);\n        }\n    };\n    Router.prototype.disconnectModuleForIdentifierFromElement = function (identifier, element) {\n        var module = this.modulesByIdentifier.get(identifier);\n        if (module) {\n            module.disconnectElement(element);\n        }\n    };\n    return Router;\n}());\nexport { Router };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicm91dGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcGFja2FnZXMvQHN0aW11bHVzL2NvcmUvc3JjL3JvdXRlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFHQSxPQUFPLEVBQUUsTUFBTSxFQUFFLE1BQU0sVUFBVSxDQUFBO0FBRWpDLE9BQU8sRUFBRSxpQkFBaUIsRUFBNkIsTUFBTSw4QkFBOEIsQ0FBQTtBQUUzRjtJQUtFLGdCQUFZLFdBQXdCO1FBQ2xDLElBQUksQ0FBQyxXQUFXLEdBQUcsV0FBVyxDQUFBO1FBQzlCLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxJQUFJLGlCQUFpQixDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLG1CQUFtQixFQUFFLElBQUksQ0FBQyxDQUFBO1FBQzVGLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxJQUFJLEdBQUcsQ0FBQTtJQUNwQyxDQUFDO0lBRUQsc0JBQUksMEJBQU07YUFBVjtZQUNFLE1BQU0sQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQTtRQUNoQyxDQUFDOzs7T0FBQTtJQUVELHNCQUFJLDJCQUFPO2FBQVg7WUFDRSxNQUFNLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUE7UUFDakMsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSx1Q0FBbUI7YUFBdkI7WUFDRSxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQTtRQUN4QyxDQUFDOzs7T0FBQTtJQUVELHNCQUFJLDJCQUFPO2FBQVg7WUFDRSxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQTtRQUN0RCxDQUFDOzs7T0FBQTtJQUVELHNCQUFLLEdBQUw7UUFDRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsS0FBSyxFQUFFLENBQUE7SUFDaEMsQ0FBQztJQUVELHFCQUFJLEdBQUo7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","export var defaultSchema = {\n    controllerAttribute: \"data-controller\",\n    actionAttribute: \"data-action\",\n    targetAttribute: \"data-target\"\n};\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NoZW1hLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcGFja2FnZXMvQHN0aW11bHVzL2NvcmUvc3JjL3NjaGVtYS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFNQSxNQUFNLENBQUMsSUFBTSxhQUFhLEdBQVc7SUFDbkMsbUJBQW1CLEVBQUUsaUJBQWlCO0lBQ3RDLGVBQWUsRUFBRSxhQUFhO0lBQzlCLGVBQWUsRUFBRSxhQUFhO0NBQy9CLENBQUEifQ==","import { Router } from \"./router\";\nimport { defaultSchema } from \"./schema\";\nvar Application = /** @class */ (function () {\n    function Application(element, schema) {\n        if (element === void 0) { element = document.documentElement; }\n        if (schema === void 0) { schema = defaultSchema; }\n        this.element = element;\n        this.schema = schema;\n        this.router = new Router(this);\n    }\n    Application.start = function (element, schema) {\n        var application = new Application(element, schema);\n        application.start();\n        return application;\n    };\n    Application.prototype.start = function () {\n        this.router.start();\n    };\n    Application.prototype.stop = function () {\n        this.router.stop();\n    };\n    Application.prototype.register = function (identifier, controllerConstructor) {\n        this.load({ identifier: identifier, controllerConstructor: controllerConstructor });\n    };\n    Application.prototype.load = function (head) {\n        var _this = this;\n        var rest = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            rest[_i - 1] = arguments[_i];\n        }\n        var definitions = Array.isArray(head) ? head : [head].concat(rest);\n        definitions.forEach(function (definition) { return _this.router.loadDefinition(definition); });\n    };\n    Application.prototype.unload = function (head) {\n        var _this = this;\n        var rest = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            rest[_i - 1] = arguments[_i];\n        }\n        var identifiers = Array.isArray(head) ? head : [head].concat(rest);\n        identifiers.forEach(function (identifier) { return _this.router.unloadIdentifier(identifier); });\n    };\n    Object.defineProperty(Application.prototype, \"controllers\", {\n        // Controllers\n        get: function () {\n            return this.router.contexts.map(function (context) { return context.controller; });\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Application.prototype.getControllerForElementAndIdentifier = function (element, identifier) {\n        var context = this.router.getContextForElementAndIdentifier(element, identifier);\n        return context ? context.controller : null;\n    };\n    // Error handling\n    Application.prototype.handleError = function (error, message, detail) {\n        console.error(\"%s\\n\\n%o\\n\\n%o\", message, error, detail);\n    };\n    return Application;\n}());\nexport { Application };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwbGljYXRpb24uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wYWNrYWdlcy9Ac3RpbXVsdXMvY29yZS9zcmMvYXBwbGljYXRpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUEsT0FBTyxFQUFFLE1BQU0sRUFBRSxNQUFNLFVBQVUsQ0FBQTtBQUNqQyxPQUFPLEVBQVUsYUFBYSxFQUFFLE1BQU0sVUFBVSxDQUFBO0FBRWhEO0lBV0UscUJBQVksT0FBMkMsRUFBRSxNQUE4QjtRQUEzRSx3QkFBQSxFQUFBLFVBQW1CLFFBQVEsQ0FBQyxlQUFlO1FBQUUsdUJBQUEsRUFBQSxzQkFBOEI7UUFDckYsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUE7UUFDdEIsSUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUE7UUFDcEIsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQTtJQUNoQyxDQUFDO0lBVk0saUJBQUssR0FBWixVQUFhLE9BQWlCLEVBQUUsTUFBZTtRQUM3QyxJQUFNLFdBQVcsR0FBRyxJQUFJLFdBQVcsQ0FBQyxPQUFPLEVBQUUsTUFBTSxDQUFDLENBQUE7UUFDcEQsV0FBVyxDQUFDLEtBQUssRUFBRSxDQUFBO1FBQ25CLE1BQU0sQ0FBQyxXQUFXLENBQUE7SUFDcEIsQ0FBQztJQVFELDJCQUFLLEdBQUw7UUFDRSxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFBO0lBQ3JCLENBQUM7SUFFRCwwQkFBSSxHQUFKO1FBQ0UsSUFBSSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQTtJQUNwQixDQUFDO0lBRUQsOEJBQVEsR0FBUixVQUFTLFVBQWtCLEVBQUUscUJBQTRDO1FBQ3ZFLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxVQUFVLFlBQUEsRUFBRSxxQkFBcUIsdUJBQUEsRUFBRSxDQUFDLENBQUE7SUFDbEQsQ0FBQztJQUlELDBCQUFJLEdBQUosVUFBSyxJQUErQjtRQUFwQyxpQkFHQztRQUhxQyxjQUFxQjthQUFyQixVQUFxQixFQUFyQixxQkFBcUIsRUFBckIsSUFBcUI7WUFBckIsNkJBQXFCOztRQUN6RCxJQUFNLFdBQVcsR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLElBQUksU0FBSyxJQUFJLENBQUMsQ0FBQTtRQUNoRSxXQUFXLENBQUMsT0FBTyxDQUFDLFVBQUEsVUFBVSxJQUFJLE9BQUEsS0FBSSxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsVUFBVSxDQUFDLEVBQXRDLENBQXNDLENBQUMsQ0FBQTtJQUMzRSxDQUFDO0lBSUQsNEJBQU0sR0FBTixVQUFPLElBQXVCO1FBQTlCLGlCQUdDO1FBSCtCLGNBQWlCO2FBQWpCLFVBQWlCLEVBQWpCLHFCQUFpQixFQUFqQixJQUFpQjtZQUFqQiw2QkFBaUI7O1FBQy9DLElBQU0sV0FBVyxHQUFHLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsSUFBSSxTQUFLLElBQUksQ0FBQyxDQUFBO1FBQ2hFLFdBQVcsQ0FBQyxPQUFPLENBQUMsVUFBQSxVQUFVLElBQUksT0FBQSxLQUFJLENBQUMsTUFBTSxDQUFDLGdCQUFnQixDQUFDLFVBQVUsQ0FBQyxFQUF4QyxDQUF3QyxDQUFDLENBQUE7SUFDN0UsQ0FBQztJQUlELHNCQUFJLG9DQUFXO1FBRmYsY0FBYzthQUVkO1lBQ0UsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxVQUFBLE9BQU8sSUFBSSxPQUFBLE9BQU8sQ0FBQyxVQUFVLEVBQWxCLENBQWtCLENBQUMsQ0FBQTtRQUNoRSxDQUFDOzs7T0FBQTtJQUVELDBEQUFvQyxHQUFwQyxVQUFxQyxPQUFnQixFQUFFLFVBQWtCO1FBQ3ZFLElBQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsaUNBQWlDLENBQUMsT0FBTyxFQUFFLFVBQVUsQ0FBQyxDQUFBO1FBQ2xGLE1BQU0sQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQTtJQUM1QyxDQUFDO0lBRUQsaUJBQWlCO0lBRWpCLGlDQUFXLEdBQVgsVUFBWSxLQUFZLEVBQUUsT0FBZSxFQUFFLE1BQWM7UUFDdkQsT0FBTyxDQUFDLEtBQUssQ0FBQyxnQkFBZ0IsRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sQ0FBQyxDQUFBO0lBQ3pELENBQUM7SUFDSCxrQkFBQztBQUFELENBQUMsQUEzREQsSUEyREMifQ==","export function defineTargetProperties(constructor) {\n    var prototype = constructor.prototype;\n    var targetNames = getTargetNamesForConstructor(constructor);\n    targetNames.forEach(function (name) {\n        return defineLinkedProperties(prototype, (_a = {},\n            _a[name + \"Target\"] = {\n                get: function () {\n                    var target = this.targets.find(name);\n                    if (target) {\n                        return target;\n                    }\n                    else {\n                        throw new Error(\"Missing target element \\\"\" + this.identifier + \".\" + name + \"\\\"\");\n                    }\n                }\n            },\n            _a[name + \"Targets\"] = {\n                get: function () {\n                    return this.targets.findAll(name);\n                }\n            },\n            _a[\"has\" + capitalize(name) + \"Target\"] = {\n                get: function () {\n                    return this.targets.has(name);\n                }\n            },\n            _a));\n        var _a;\n    });\n}\nfunction getTargetNamesForConstructor(constructor) {\n    var ancestors = getAncestorsForConstructor(constructor);\n    return Array.from(ancestors.reduce(function (targetNames, constructor) {\n        getOwnTargetNamesForConstructor(constructor).forEach(function (name) { return targetNames.add(name); });\n        return targetNames;\n    }, new Set));\n}\nfunction getAncestorsForConstructor(constructor) {\n    var ancestors = [];\n    while (constructor) {\n        ancestors.push(constructor);\n        constructor = Object.getPrototypeOf(constructor);\n    }\n    return ancestors;\n}\nfunction getOwnTargetNamesForConstructor(constructor) {\n    var definition = constructor[\"targets\"];\n    return Array.isArray(definition) ? definition : [];\n}\nfunction defineLinkedProperties(object, properties) {\n    Object.keys(properties).forEach(function (name) {\n        if (!(name in object)) {\n            var descriptor = properties[name];\n            Object.defineProperty(object, name, descriptor);\n        }\n    });\n}\nfunction capitalize(name) {\n    return name.charAt(0).toLocaleUpperCase() + name.slice(1);\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGFyZ2V0X3Byb3BlcnRpZXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wYWNrYWdlcy9Ac3RpbXVsdXMvY29yZS9zcmMvdGFyZ2V0X3Byb3BlcnRpZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTSxpQ0FBaUMsV0FBcUI7SUFDMUQsSUFBTSxTQUFTLEdBQUcsV0FBVyxDQUFDLFNBQVMsQ0FBQTtJQUN2QyxJQUFNLFdBQVcsR0FBRyw0QkFBNEIsQ0FBQyxXQUFXLENBQUMsQ0FBQTtJQUM3RCxXQUFXLENBQUMsT0FBTyxDQUFDLFVBQUEsSUFBSTtRQUFJLE9BQUEsc0JBQXNCLENBQUMsU0FBUztZQUMxRCxHQUFJLElBQUksV0FBUSxJQUFHO2dCQUNqQixHQUFHO29CQUNELElBQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFBO29CQUN0QyxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO3dCQUNYLE1BQU0sQ0FBQyxNQUFNLENBQUE7b0JBQ2YsQ0FBQztvQkFBQyxJQUFJLENBQUMsQ0FBQzt3QkFDTixNQUFNLElBQUksS0FBSyxDQUFDLDhCQUEyQixJQUFJLENBQUMsVUFBVSxTQUFJLElBQUksT0FBRyxDQUFDLENBQUE7b0JBQ3hFLENBQUM7Z0JBQ0gsQ0FBQzthQUNGO1lBQ0QsR0FBSSxJQUFJLFlBQVMsSUFBRztnQkFDbEIsR0FBRztvQkFDRCxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUE7Z0JBQ25DLENBQUM7YUFDRjtZQUNELEdBQUMsUUFBTSxVQUFVLENBQUMsSUFBSSxDQUFDLFdBQVEsSUFBRztnQkFDaEMsR0FBRztvQkFDRCxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUE7Z0JBQy9CLENBQUM7YUFDRjtnQkFDRDs7SUFyQjBCLENBcUIxQixDQUFDLENBQUE7QUFDTCxDQUFDO0FBRUQsc0NBQXNDLFdBQXFCO0lBQ3pELElBQU0sU0FBUyxHQUFHLDBCQUEwQixDQUFDLFdBQVcsQ0FBQyxDQUFBO0lBQ3pELE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsVUFBQyxXQUFXLEVBQUUsV0FBVztRQUMxRCwrQkFBK0IsQ0FBQyxXQUFXLENBQUMsQ0FBQyxPQUFPLENBQUMsVUFBQSxJQUFJLElBQUksT0FBQSxXQUFXLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFyQixDQUFxQixDQUFDLENBQUE7UUFDbkYsTUFBTSxDQUFDLFdBQVcsQ0FBQTtJQUNwQixDQUFDLEVBQUUsSUFBSSxHQUFrQixDQUFDLENBQUMsQ0FBQTtBQUM3QixDQUFDO0FBRUQsb0NBQW9DLFdBQXFCO0lBQ3ZELElBQU0sU0FBUyxHQUFlLEVBQUUsQ0FBQTtJQUNoQyxPQUFPLFdBQVcsRUFBRSxDQUFDO1FBQ25CLFNBQVMsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUE7UUFDM0IsV0FBVyxHQUFHLE1BQU0sQ0FBQyxjQUFjLENBQUMsV0FBVyxDQUFDLENBQUE7SUFDbEQsQ0FBQztJQUNELE1BQU0sQ0FBQyxTQUFTLENBQUE7QUFDbEIsQ0FBQztBQUVELHlDQUF5QyxXQUFxQjtJQUM1RCxJQUFNLFVBQVUsR0FBRyxXQUFXLENBQUMsU0FBUyxDQUFDLENBQUE7SUFDekMsTUFBTSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFBO0FBQ3BELENBQUM7QUFFRCxnQ0FBZ0MsTUFBVyxFQUFFLFVBQWlDO0lBQzVFLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsT0FBTyxDQUFDLFVBQUMsSUFBSTtRQUNuQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN0QixJQUFNLFVBQVUsR0FBRyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUE7WUFDbkMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxNQUFNLEVBQUUsSUFBSSxFQUFFLFVBQVUsQ0FBQyxDQUFBO1FBQ2pELENBQUM7SUFDSCxDQUFDLENBQUMsQ0FBQTtBQUNKLENBQUM7QUFFRCxvQkFBb0IsSUFBWTtJQUM5QixNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUE7QUFDM0QsQ0FBQyJ9","import { defineTargetProperties } from \"./target_properties\";\nvar Controller = /** @class */ (function () {\n    function Controller(context) {\n        this.context = context;\n    }\n    Controller.bless = function () {\n        defineTargetProperties(this);\n    };\n    Object.defineProperty(Controller.prototype, \"application\", {\n        get: function () {\n            return this.context.application;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Controller.prototype, \"scope\", {\n        get: function () {\n            return this.context.scope;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Controller.prototype, \"element\", {\n        get: function () {\n            return this.scope.element;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Controller.prototype, \"identifier\", {\n        get: function () {\n            return this.scope.identifier;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Controller.prototype, \"targets\", {\n        get: function () {\n            return this.scope.targets;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Controller.prototype, \"data\", {\n        get: function () {\n            return this.scope.data;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Controller.prototype.initialize = function () {\n        // Override in your subclass to set up initial controller state\n    };\n    Controller.prototype.connect = function () {\n        // Override in your subclass to respond when the controller is connected to the DOM\n    };\n    Controller.prototype.disconnect = function () {\n        // Override in your subclass to respond when the controller is disconnected from the DOM\n    };\n    Controller.targets = [];\n    return Controller;\n}());\nexport { Controller };\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29udHJvbGxlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3BhY2thZ2VzL0BzdGltdWx1cy9jb3JlL3NyYy9jb250cm9sbGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUtBLE9BQU8sRUFBRSxzQkFBc0IsRUFBRSxNQUFNLHFCQUFxQixDQUFBO0FBTzVEO0lBU0Usb0JBQVksT0FBZ0I7UUFDMUIsSUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLENBQUE7SUFDeEIsQ0FBQztJQU5NLGdCQUFLLEdBQVo7UUFDRSxzQkFBc0IsQ0FBQyxJQUFJLENBQUMsQ0FBQTtJQUM5QixDQUFDO0lBTUQsc0JBQUksbUNBQVc7YUFBZjtZQUNFLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQVcsQ0FBQTtRQUNqQyxDQUFDOzs7T0FBQTtJQUVELHNCQUFJLDZCQUFLO2FBQVQ7WUFDRSxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUE7UUFDM0IsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSwrQkFBTzthQUFYO1lBQ0UsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFBO1FBQzNCLENBQUM7OztPQUFBO0lBRUQsc0JBQUksa0NBQVU7YUFBZDtZQUNFLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQTtRQUM5QixDQUFDOzs7T0FBQTtJQUVELHNCQUFJLCtCQUFPO2FBQVg7WUFDRSxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUE7UUFDM0IsQ0FBQzs7O09BQUE7SUFFRCxzQkFBSSw0QkFBSTthQUFSO1lBQ0UsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFBO1FBQ3hCLENBQUM7OztPQUFBO0lBRUQsK0JBQVUsR0FBVjtRQUNFLCtEQUErRDtJQUNqRSxDQUFDO0lBRUQsNEJBQU8sR0FBUDtRQUNFLG1GQUFtRjtJQUNyRixDQUFDO0lBRUQsK0JBQVUsR0FBVjtRQUNFLHdGQUF3RjtJQUMxRixDQUFDO0lBOUNNLGtCQUFPLEdBQWEsRUFBRSxDQUFBO0lBK0MvQixpQkFBQztDQUFBLEFBaERELElBZ0RDO1NBaERZLFVBQVUifQ==","module.exports = inViewport;\n\nvar instances = [];\nvar supportsMutationObserver = typeof global.MutationObserver === 'function';\n\nfunction inViewport(elt, params, cb) {\n  var opts = {\n    container: global.document.body,\n    offset: 0,\n    debounce: 15,\n    failsafe: 150\n  };\n\n  if (params === undefined || typeof params === 'function') {\n    cb = params;\n    params = {};\n  }\n\n  var container = opts.container = params.container || opts.container;\n  var offset = opts.offset = params.offset || opts.offset;\n  var debounceValue = opts.debounce = params.debounce || opts.debounce;\n  var failsafe = opts.failsafe = params.failsafe || opts.failsafe;\n\n  // ensure backward compatibility with failsafe as boolean\n  if (failsafe === true) {\n    failsafe = 150;\n  } else if(failsafe === false) {\n    failsafe = 0;\n  }\n\n  // failsafe check always needs to be higher than debounceValue\n  if (failsafe > 0 && failsafe < debounceValue) {\n      failsafe = debounceValue + 50;\n  }\n\n  for (var i = 0; i < instances.length; i++) {\n    if (\n      instances[i].container === container &&\n      instances[i]._debounce === debounceValue &&\n      instances[i]._failsafe === failsafe\n    ) {\n      return instances[i].isInViewport(elt, offset, cb);\n    }\n  }\n\n  return instances[\n    instances.push(createInViewport(container, debounceValue, failsafe)) - 1\n  ].isInViewport(elt, offset, cb);\n}\n\nfunction addEvent(el, type, fn) {\n  if (el.attachEvent) {\n    el.attachEvent('on' + type, fn);\n  } else {\n    el.addEventListener(type, fn, false);\n  }\n}\n\nfunction debounce(func, wait, immediate) {\n  var timeout;\n  return function () {\n    var context = this, args = arguments;\n    var callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n    if (callNow) func.apply(context, args);\n\n    function later() {\n      timeout = null;\n      if (!immediate) func.apply(context, args);\n    }\n  };\n}\n\n// https://github.com/jquery/sizzle/blob/3136f48b90e3edc84cbaaa6f6f7734ef03775a07/sizzle.js#L708\nvar contains = function() {\n  if (!global.document) {\n    return true;\n  }\n  return global.document.documentElement.compareDocumentPosition ?\n    function (a, b) {\n      return !!(a.compareDocumentPosition(b) & 16);\n    } :\n    global.document.documentElement.contains ?\n      function (a, b) {\n        return a !== b && ( a.contains ? a.contains(b) : false );\n      } :\n      function (a, b) {\n        while (b = b.parentNode) {\n          if (b === a) {\n            return true;\n          }\n        }\n        return false;\n      };\n}\n\nfunction createInViewport(container, debounceValue, failsafe) {\n  var watches = createWatches();\n\n  var scrollContainer = container === global.document.body ? global : container;\n  var debouncedCheck = debounce(watches.checkAll(watchInViewport), debounceValue);\n\n  addEvent(scrollContainer, 'scroll', debouncedCheck);\n\n  if (scrollContainer === global) {\n    addEvent(global, 'resize', debouncedCheck);\n  }\n\n  if (supportsMutationObserver) {\n    observeDOM(watches, container, debouncedCheck);\n  }\n\n  // failsafe check, every X we check for visible images\n  // usecase: a hidden parent containing eleements\n  // when the parent becomes visible, we have no event that the children\n  // became visible\n  if (failsafe > 0) {\n    setInterval(debouncedCheck, failsafe);\n  }\n\n  function isInViewport(elt, offset, cb) {\n    if (!cb) {\n      return isVisible(elt, offset);\n    }\n\n    var remote = createRemote(elt, offset, cb);\n    remote.watch();\n    return remote;\n  }\n\n  function createRemote(elt, offset, cb) {\n    function watch() {\n      watches.add(elt, offset, cb);\n    }\n\n    function dispose() {\n      watches.remove(elt);\n    }\n\n    return {\n      watch: watch,\n      dispose: dispose\n    };\n  }\n\n  function watchInViewport(elt, offset, cb) {\n    if (isVisible(elt, offset)) {\n      watches.remove(elt);\n      cb(elt);\n    }\n  }\n\n  function isVisible(elt, offset) {\n    if (!elt) {\n      return false;\n    }\n\n    if (!contains(global.document.documentElement, elt) || !contains(global.document.documentElement, container)) {\n      return false;\n    }\n\n    // Check if the element is visible\n    // https://github.com/jquery/jquery/blob/740e190223d19a114d5373758127285d14d6b71e/src/css/hiddenVisibleSelectors.js\n    if (!elt.offsetWidth || !elt.offsetHeight) {\n      return false;\n    }\n\n    var eltRect = elt.getBoundingClientRect();\n    var viewport = {};\n\n    if (container === global.document.body) {\n      viewport = {\n        top: -offset,\n        left: -offset,\n        right: global.document.documentElement.clientWidth + offset,\n        bottom: global.document.documentElement.clientHeight + offset\n      };\n    } else {\n      var containerRect = container.getBoundingClientRect();\n      viewport = {\n        top: containerRect.top - offset,\n        left: containerRect.left - offset,\n        right: containerRect.right + offset,\n        bottom: containerRect.bottom + offset\n      };\n    }\n\n    // The element must overlap with the visible part of the viewport\n    var visible =\n      (\n        eltRect.right >= viewport.left &&\n        eltRect.left <= viewport.right &&\n        eltRect.bottom >= viewport.top &&\n        eltRect.top <= viewport.bottom\n      );\n\n    return visible;\n  }\n\n  return {\n    container: container,\n    isInViewport: isInViewport,\n    _debounce: debounceValue,\n    _failsafe: failsafe\n  };\n}\n\nfunction createWatches() {\n  var watches = [];\n\n  function add(elt, offset, cb) {\n    if (!isWatched(elt)) {\n      watches.push([elt, offset, cb]);\n    }\n  }\n\n  function remove(elt) {\n    var pos = indexOf(elt);\n    if (pos !== -1) {\n      watches.splice(pos, 1);\n    }\n  }\n\n  function indexOf(elt) {\n    for (var i = watches.length - 1; i >= 0; i--) {\n      if (watches[i][0] === elt) {\n        return i;\n      }\n    }\n    return -1;\n  }\n\n  function isWatched(elt) {\n    return indexOf(elt) !== -1;\n  }\n\n  function checkAll(cb) {\n    return function () {\n      for (var i = watches.length - 1; i >= 0; i--) {\n        cb.apply(this, watches[i]);\n      }\n    };\n  }\n\n  return {\n    add: add,\n    remove: remove,\n    isWatched: isWatched,\n    checkAll: checkAll\n  };\n}\n\nfunction observeDOM(watches, container, cb) {\n  var observer = new MutationObserver(watch);\n  var filter = Array.prototype.filter;\n  var concat = Array.prototype.concat;\n\n  observer.observe(container, {\n    childList: true,\n    subtree: true,\n    // changes like style/width/height/display will be catched\n    attributes: true\n  });\n\n  function watch(mutations) {\n    // some new DOM nodes where previously watched\n    // we should check their positions\n    if (mutations.some(knownNodes) === true) {\n      setTimeout(cb, 0);\n    }\n  }\n\n  function knownNodes(mutation) {\n    var nodes = concat.call([],\n      Array.prototype.slice.call(mutation.addedNodes),\n      mutation.target\n    );\n    return filter.call(nodes, watches.isWatched).length > 0;\n  }\n}\n","/*\nTurbolinks 5.0.3\nCopyright  2017 Basecamp, LLC\n */\n(function(){(function(){(function(){this.Turbolinks={supported:function(){return null!=window.history.pushState&&null!=window.requestAnimationFrame&&null!=window.addEventListener}(),visit:function(e,r){return t.controller.visit(e,r)},clearCache:function(){return t.controller.clearCache()}}}).call(this)}).call(this);var t=this.Turbolinks;(function(){(function(){var e,r,n=[].slice;t.copyObject=function(t){var e,r,n;r={};for(e in t)n=t[e],r[e]=n;return r},t.closest=function(t,r){return e.call(t,r)},e=function(){var t,e;return t=document.documentElement,null!=(e=t.closest)?e:function(t){var e;for(e=this;e;){if(e.nodeType===Node.ELEMENT_NODE&&r.call(e,t))return e;e=e.parentNode}}}(),t.defer=function(t){return setTimeout(t,1)},t.throttle=function(t){var e;return e=null,function(){var r;return r=1<=arguments.length?n.call(arguments,0):[],null!=e?e:e=requestAnimationFrame(function(n){return function(){return e=null,t.apply(n,r)}}(this))}},t.dispatch=function(t,e){var r,n,o,i,s;return i=null!=e?e:{},s=i.target,r=i.cancelable,n=i.data,o=document.createEvent(\"Events\"),o.initEvent(t,!0,r===!0),o.data=null!=n?n:{},(null!=s?s:document).dispatchEvent(o),o},t.match=function(t,e){return r.call(t,e)},r=function(){var t,e,r,n;return t=document.documentElement,null!=(e=null!=(r=null!=(n=t.matchesSelector)?n:t.webkitMatchesSelector)?r:t.msMatchesSelector)?e:t.mozMatchesSelector}(),t.uuid=function(){var t,e,r;for(r=\"\",t=e=1;36>=e;t=++e)r+=9===t||14===t||19===t||24===t?\"-\":15===t?\"4\":20===t?(Math.floor(4*Math.random())+8).toString(16):Math.floor(15*Math.random()).toString(16);return r}}).call(this),function(){t.Location=function(){function t(t){var e,r;null==t&&(t=\"\"),r=document.createElement(\"a\"),r.href=t.toString(),this.absoluteURL=r.href,e=r.hash.length,2>e?this.requestURL=this.absoluteURL:(this.requestURL=this.absoluteURL.slice(0,-e),this.anchor=r.hash.slice(1))}var e,r,n,o;return t.wrap=function(t){return t instanceof this?t:new this(t)},t.prototype.getOrigin=function(){return this.absoluteURL.split(\"/\",3).join(\"/\")},t.prototype.getPath=function(){var t,e;return null!=(t=null!=(e=this.absoluteURL.match(/\\/\\/[^\\/]*(\\/[^?;]*)/))?e[1]:void 0)?t:\"/\"},t.prototype.getPathComponents=function(){return this.getPath().split(\"/\").slice(1)},t.prototype.getLastPathComponent=function(){return this.getPathComponents().slice(-1)[0]},t.prototype.getExtension=function(){var t,e;return null!=(t=null!=(e=this.getLastPathComponent().match(/\\.[^.]*$/))?e[0]:void 0)?t:\"\"},t.prototype.isHTML=function(){return this.getExtension().match(/^(?:|\\.(?:htm|html|xhtml))$/)},t.prototype.isPrefixedBy=function(t){var e;return e=r(t),this.isEqualTo(t)||o(this.absoluteURL,e)},t.prototype.isEqualTo=function(t){return this.absoluteURL===(null!=t?t.absoluteURL:void 0)},t.prototype.toCacheKey=function(){return this.requestURL},t.prototype.toJSON=function(){return this.absoluteURL},t.prototype.toString=function(){return this.absoluteURL},t.prototype.valueOf=function(){return this.absoluteURL},r=function(t){return e(t.getOrigin()+t.getPath())},e=function(t){return n(t,\"/\")?t:t+\"/\"},o=function(t,e){return t.slice(0,e.length)===e},n=function(t,e){return t.slice(-e.length)===e},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.HttpRequest=function(){function r(r,n,o){this.delegate=r,this.requestCanceled=e(this.requestCanceled,this),this.requestTimedOut=e(this.requestTimedOut,this),this.requestFailed=e(this.requestFailed,this),this.requestLoaded=e(this.requestLoaded,this),this.requestProgressed=e(this.requestProgressed,this),this.url=t.Location.wrap(n).requestURL,this.referrer=t.Location.wrap(o).absoluteURL,this.createXHR()}return r.NETWORK_FAILURE=0,r.TIMEOUT_FAILURE=-1,r.timeout=60,r.prototype.send=function(){var t;return this.xhr&&!this.sent?(this.notifyApplicationBeforeRequestStart(),this.setProgress(0),this.xhr.send(),this.sent=!0,\"function\"==typeof(t=this.delegate).requestStarted?t.requestStarted():void 0):void 0},r.prototype.cancel=function(){return this.xhr&&this.sent?this.xhr.abort():void 0},r.prototype.requestProgressed=function(t){return t.lengthComputable?this.setProgress(t.loaded/t.total):void 0},r.prototype.requestLoaded=function(){return this.endRequest(function(t){return function(){var e;return 200<=(e=t.xhr.status)&&300>e?t.delegate.requestCompletedWithResponse(t.xhr.responseText,t.xhr.getResponseHeader(\"Turbolinks-Location\")):(t.failed=!0,t.delegate.requestFailedWithStatusCode(t.xhr.status,t.xhr.responseText))}}(this))},r.prototype.requestFailed=function(){return this.endRequest(function(t){return function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.NETWORK_FAILURE)}}(this))},r.prototype.requestTimedOut=function(){return this.endRequest(function(t){return function(){return t.failed=!0,t.delegate.requestFailedWithStatusCode(t.constructor.TIMEOUT_FAILURE)}}(this))},r.prototype.requestCanceled=function(){return this.endRequest()},r.prototype.notifyApplicationBeforeRequestStart=function(){return t.dispatch(\"turbolinks:request-start\",{data:{url:this.url,xhr:this.xhr}})},r.prototype.notifyApplicationAfterRequestEnd=function(){return t.dispatch(\"turbolinks:request-end\",{data:{url:this.url,xhr:this.xhr}})},r.prototype.createXHR=function(){return this.xhr=new XMLHttpRequest,this.xhr.open(\"GET\",this.url,!0),this.xhr.timeout=1e3*this.constructor.timeout,this.xhr.setRequestHeader(\"Accept\",\"text/html, application/xhtml+xml\"),this.xhr.setRequestHeader(\"Turbolinks-Referrer\",this.referrer),this.xhr.onprogress=this.requestProgressed,this.xhr.onload=this.requestLoaded,this.xhr.onerror=this.requestFailed,this.xhr.ontimeout=this.requestTimedOut,this.xhr.onabort=this.requestCanceled},r.prototype.endRequest=function(t){return this.xhr?(this.notifyApplicationAfterRequestEnd(),null!=t&&t.call(this),this.destroy()):void 0},r.prototype.setProgress=function(t){var e;return this.progress=t,\"function\"==typeof(e=this.delegate).requestProgressed?e.requestProgressed(this.progress):void 0},r.prototype.destroy=function(){var t;return this.setProgress(1),\"function\"==typeof(t=this.delegate).requestFinished&&t.requestFinished(),this.delegate=null,this.xhr=null},r}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.ProgressBar=function(){function t(){this.trickle=e(this.trickle,this),this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement()}var r;return r=300,t.defaultCSS=\".turbolinks-progress-bar {\\n  position: fixed;\\n  display: block;\\n  top: 0;\\n  left: 0;\\n  height: 3px;\\n  background: #0076ff;\\n  z-index: 9999;\\n  transition: width \"+r+\"ms ease-out, opacity \"+r/2+\"ms \"+r/2+\"ms ease-in;\\n  transform: translate3d(0, 0, 0);\\n}\",t.prototype.show=function(){return this.visible?void 0:(this.visible=!0,this.installStylesheetElement(),this.installProgressElement(),this.startTrickling())},t.prototype.hide=function(){return this.visible&&!this.hiding?(this.hiding=!0,this.fadeProgressElement(function(t){return function(){return t.uninstallProgressElement(),t.stopTrickling(),t.visible=!1,t.hiding=!1}}(this))):void 0},t.prototype.setValue=function(t){return this.value=t,this.refresh()},t.prototype.installStylesheetElement=function(){return document.head.insertBefore(this.stylesheetElement,document.head.firstChild)},t.prototype.installProgressElement=function(){return this.progressElement.style.width=0,this.progressElement.style.opacity=1,document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()},t.prototype.fadeProgressElement=function(t){return this.progressElement.style.opacity=0,setTimeout(t,1.5*r)},t.prototype.uninstallProgressElement=function(){return this.progressElement.parentNode?document.documentElement.removeChild(this.progressElement):void 0},t.prototype.startTrickling=function(){return null!=this.trickleInterval?this.trickleInterval:this.trickleInterval=setInterval(this.trickle,r)},t.prototype.stopTrickling=function(){return clearInterval(this.trickleInterval),this.trickleInterval=null},t.prototype.trickle=function(){return this.setValue(this.value+Math.random()/100)},t.prototype.refresh=function(){return requestAnimationFrame(function(t){return function(){return t.progressElement.style.width=10+90*t.value+\"%\"}}(this))},t.prototype.createStylesheetElement=function(){var t;return t=document.createElement(\"style\"),t.type=\"text/css\",t.textContent=this.constructor.defaultCSS,t},t.prototype.createProgressElement=function(){var t;return t=document.createElement(\"div\"),t.className=\"turbolinks-progress-bar\",t},t}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.BrowserAdapter=function(){function r(r){this.controller=r,this.showProgressBar=e(this.showProgressBar,this),this.progressBar=new t.ProgressBar}var n,o,i,s;return s=t.HttpRequest,n=s.NETWORK_FAILURE,i=s.TIMEOUT_FAILURE,o=500,r.prototype.visitProposedToLocationWithAction=function(t,e){return this.controller.startVisitToLocationWithAction(t,e)},r.prototype.visitStarted=function(t){return t.issueRequest(),t.changeHistory(),t.loadCachedSnapshot()},r.prototype.visitRequestStarted=function(t){return this.progressBar.setValue(0),t.hasCachedSnapshot()||\"restore\"!==t.action?this.showProgressBarAfterDelay():this.showProgressBar()},r.prototype.visitRequestProgressed=function(t){return this.progressBar.setValue(t.progress)},r.prototype.visitRequestCompleted=function(t){return t.loadResponse()},r.prototype.visitRequestFailedWithStatusCode=function(t,e){switch(e){case n:case i:return this.reload();default:return t.loadResponse()}},r.prototype.visitRequestFinished=function(t){return this.hideProgressBar()},r.prototype.visitCompleted=function(t){return t.followRedirect()},r.prototype.pageInvalidated=function(){return this.reload()},r.prototype.showProgressBarAfterDelay=function(){return this.progressBarTimeout=setTimeout(this.showProgressBar,o)},r.prototype.showProgressBar=function(){return this.progressBar.show()},r.prototype.hideProgressBar=function(){return this.progressBar.hide(),clearTimeout(this.progressBarTimeout)},r.prototype.reload=function(){return window.location.reload()},r}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.History=function(){function r(t){this.delegate=t,this.onPageLoad=e(this.onPageLoad,this),this.onPopState=e(this.onPopState,this)}return r.prototype.start=function(){return this.started?void 0:(addEventListener(\"popstate\",this.onPopState,!1),addEventListener(\"load\",this.onPageLoad,!1),this.started=!0)},r.prototype.stop=function(){return this.started?(removeEventListener(\"popstate\",this.onPopState,!1),removeEventListener(\"load\",this.onPageLoad,!1),this.started=!1):void 0},r.prototype.push=function(e,r){return e=t.Location.wrap(e),this.update(\"push\",e,r)},r.prototype.replace=function(e,r){return e=t.Location.wrap(e),this.update(\"replace\",e,r)},r.prototype.onPopState=function(e){var r,n,o,i;return this.shouldHandlePopState()&&(i=null!=(n=e.state)?n.turbolinks:void 0)?(r=t.Location.wrap(window.location),o=i.restorationIdentifier,this.delegate.historyPoppedToLocationWithRestorationIdentifier(r,o)):void 0},r.prototype.onPageLoad=function(e){return t.defer(function(t){return function(){return t.pageLoaded=!0}}(this))},r.prototype.shouldHandlePopState=function(){return this.pageIsLoaded()},r.prototype.pageIsLoaded=function(){return this.pageLoaded||\"complete\"===document.readyState},r.prototype.update=function(t,e,r){var n;return n={turbolinks:{restorationIdentifier:r}},history[t+\"State\"](n,null,e)},r}()}.call(this),function(){t.Snapshot=function(){function e(t){var e,r;r=t.head,e=t.body,this.head=null!=r?r:document.createElement(\"head\"),this.body=null!=e?e:document.createElement(\"body\")}return e.wrap=function(t){return t instanceof this?t:this.fromHTML(t)},e.fromHTML=function(t){var e;return e=document.createElement(\"html\"),e.innerHTML=t,this.fromElement(e)},e.fromElement=function(t){return new this({head:t.querySelector(\"head\"),body:t.querySelector(\"body\")})},e.prototype.clone=function(){return new e({head:this.head.cloneNode(!0),body:this.body.cloneNode(!0)})},e.prototype.getRootLocation=function(){var e,r;return r=null!=(e=this.getSetting(\"root\"))?e:\"/\",new t.Location(r)},e.prototype.getCacheControlValue=function(){return this.getSetting(\"cache-control\")},e.prototype.hasAnchor=function(t){try{return null!=this.body.querySelector(\"[id='\"+t+\"']\")}catch(e){}},e.prototype.isPreviewable=function(){return\"no-preview\"!==this.getCacheControlValue()},e.prototype.isCacheable=function(){return\"no-cache\"!==this.getCacheControlValue()},e.prototype.getSetting=function(t){var e,r;return r=this.head.querySelectorAll(\"meta[name='turbolinks-\"+t+\"']\"),e=r[r.length-1],null!=e?e.getAttribute(\"content\"):void 0},e}()}.call(this),function(){var e=[].slice;t.Renderer=function(){function t(){}var r;return t.render=function(){var t,r,n,o;return n=arguments[0],r=arguments[1],t=3<=arguments.length?e.call(arguments,2):[],o=function(t,e,r){r.prototype=t.prototype;var n=new r,o=t.apply(n,e);return Object(o)===o?o:n}(this,t,function(){}),o.delegate=n,o.render(r),o},t.prototype.renderView=function(t){return this.delegate.viewWillRender(this.newBody),t(),this.delegate.viewRendered(this.newBody)},t.prototype.invalidateView=function(){return this.delegate.viewInvalidated()},t.prototype.createScriptElement=function(t){var e;return\"false\"===t.getAttribute(\"data-turbolinks-eval\")?t:(e=document.createElement(\"script\"),e.textContent=t.textContent,r(e,t),e)},r=function(t,e){var r,n,o,i,s,a,u;for(i=e.attributes,a=[],r=0,n=i.length;n>r;r++)s=i[r],o=s.name,u=s.value,a.push(t.setAttribute(o,u));return a},t}()}.call(this),function(){t.HeadDetails=function(){function t(t){var e,r,i,s,a,u,l;for(this.element=t,this.elements={},l=this.element.childNodes,s=0,u=l.length;u>s;s++)i=l[s],i.nodeType===Node.ELEMENT_NODE&&(a=i.outerHTML,r=null!=(e=this.elements)[a]?e[a]:e[a]={type:o(i),tracked:n(i),elements:[]},r.elements.push(i))}var e,r,n,o;return t.prototype.hasElementWithKey=function(t){return t in this.elements},t.prototype.getTrackedElementSignature=function(){var t,e;return function(){var r,n;r=this.elements,n=[];for(t in r)e=r[t].tracked,e&&n.push(t);return n}.call(this).join(\"\")},t.prototype.getScriptElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails(\"script\",t)},t.prototype.getStylesheetElementsNotInDetails=function(t){return this.getElementsMatchingTypeNotInDetails(\"stylesheet\",t)},t.prototype.getElementsMatchingTypeNotInDetails=function(t,e){var r,n,o,i,s,a;o=this.elements,s=[];for(n in o)i=o[n],a=i.type,r=i.elements,a!==t||e.hasElementWithKey(n)||s.push(r[0]);return s},t.prototype.getProvisionalElements=function(){var t,e,r,n,o,i,s;r=[],n=this.elements;for(e in n)o=n[e],s=o.type,i=o.tracked,t=o.elements,null!=s||i?t.length>1&&r.push.apply(r,t.slice(1)):r.push.apply(r,t);return r},o=function(t){return e(t)?\"script\":r(t)?\"stylesheet\":void 0},n=function(t){return\"reload\"===t.getAttribute(\"data-turbolinks-track\")},e=function(t){var e;return e=t.tagName.toLowerCase(),\"script\"===e},r=function(t){var e;return e=t.tagName.toLowerCase(),\"style\"===e||\"link\"===e&&\"stylesheet\"===t.getAttribute(\"rel\")},t}()}.call(this),function(){var e=function(t,e){function n(){this.constructor=t}for(var o in e)r.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;t.SnapshotRenderer=function(r){function n(e,r){this.currentSnapshot=e,this.newSnapshot=r,this.currentHeadDetails=new t.HeadDetails(this.currentSnapshot.head),this.newHeadDetails=new t.HeadDetails(this.newSnapshot.head),this.newBody=this.newSnapshot.body}return e(n,r),n.prototype.render=function(t){return this.trackedElementsAreIdentical()?(this.mergeHead(),this.renderView(function(e){return function(){return e.replaceBody(),e.focusFirstAutofocusableElement(),t()}}(this))):this.invalidateView()},n.prototype.mergeHead=function(){return this.copyNewHeadStylesheetElements(),this.copyNewHeadScriptElements(),this.removeCurrentHeadProvisionalElements(),this.copyNewHeadProvisionalElements()},n.prototype.replaceBody=function(){return this.activateBodyScriptElements(),this.importBodyPermanentElements(),this.assignNewBody()},n.prototype.trackedElementsAreIdentical=function(){return this.currentHeadDetails.getTrackedElementSignature()===this.newHeadDetails.getTrackedElementSignature()},n.prototype.copyNewHeadStylesheetElements=function(){var t,e,r,n,o;for(n=this.getNewHeadStylesheetElements(),o=[],e=0,r=n.length;r>e;e++)t=n[e],o.push(document.head.appendChild(t));return o},n.prototype.copyNewHeadScriptElements=function(){var t,e,r,n,o;for(n=this.getNewHeadScriptElements(),o=[],e=0,r=n.length;r>e;e++)t=n[e],o.push(document.head.appendChild(this.createScriptElement(t)));return o},n.prototype.removeCurrentHeadProvisionalElements=function(){var t,e,r,n,o;for(n=this.getCurrentHeadProvisionalElements(),o=[],e=0,r=n.length;r>e;e++)t=n[e],o.push(document.head.removeChild(t));return o},n.prototype.copyNewHeadProvisionalElements=function(){var t,e,r,n,o;for(n=this.getNewHeadProvisionalElements(),o=[],e=0,r=n.length;r>e;e++)t=n[e],o.push(document.head.appendChild(t));return o},n.prototype.importBodyPermanentElements=function(){var t,e,r,n,o,i;for(n=this.getNewBodyPermanentElements(),i=[],e=0,r=n.length;r>e;e++)o=n[e],(t=this.findCurrentBodyPermanentElement(o))?i.push(o.parentNode.replaceChild(t,o)):i.push(void 0);return i},n.prototype.activateBodyScriptElements=function(){var t,e,r,n,o,i;for(n=this.getNewBodyScriptElements(),i=[],e=0,r=n.length;r>e;e++)o=n[e],t=this.createScriptElement(o),i.push(o.parentNode.replaceChild(t,o));return i},n.prototype.assignNewBody=function(){return document.body=this.newBody},n.prototype.focusFirstAutofocusableElement=function(){var t;return null!=(t=this.findFirstAutofocusableElement())?t.focus():void 0},n.prototype.getNewHeadStylesheetElements=function(){return this.newHeadDetails.getStylesheetElementsNotInDetails(this.currentHeadDetails)},n.prototype.getNewHeadScriptElements=function(){return this.newHeadDetails.getScriptElementsNotInDetails(this.currentHeadDetails)},n.prototype.getCurrentHeadProvisionalElements=function(){return this.currentHeadDetails.getProvisionalElements()},n.prototype.getNewHeadProvisionalElements=function(){return this.newHeadDetails.getProvisionalElements()},n.prototype.getNewBodyPermanentElements=function(){return this.newBody.querySelectorAll(\"[id][data-turbolinks-permanent]\")},n.prototype.findCurrentBodyPermanentElement=function(t){return document.body.querySelector(\"#\"+t.id+\"[data-turbolinks-permanent]\")},n.prototype.getNewBodyScriptElements=function(){return this.newBody.querySelectorAll(\"script\")},n.prototype.findFirstAutofocusableElement=function(){return document.body.querySelector(\"[autofocus]\")},n}(t.Renderer)}.call(this),function(){var e=function(t,e){function n(){this.constructor=t}for(var o in e)r.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;t.ErrorRenderer=function(t){function r(t){this.html=t}return e(r,t),r.prototype.render=function(t){return this.renderView(function(e){return function(){return e.replaceDocumentHTML(),e.activateBodyScriptElements(),t()}}(this))},r.prototype.replaceDocumentHTML=function(){return document.documentElement.innerHTML=this.html},r.prototype.activateBodyScriptElements=function(){var t,e,r,n,o,i;for(n=this.getScriptElements(),i=[],e=0,r=n.length;r>e;e++)o=n[e],t=this.createScriptElement(o),i.push(o.parentNode.replaceChild(t,o));return i},r.prototype.getScriptElements=function(){return document.documentElement.querySelectorAll(\"script\")},r}(t.Renderer)}.call(this),function(){t.View=function(){function e(t){this.delegate=t,this.element=document.documentElement}return e.prototype.getRootLocation=function(){return this.getSnapshot().getRootLocation()},e.prototype.getSnapshot=function(){return t.Snapshot.fromElement(this.element)},e.prototype.render=function(t,e){var r,n,o;return o=t.snapshot,r=t.error,n=t.isPreview,this.markAsPreview(n),null!=o?this.renderSnapshot(o,e):this.renderError(r,e)},e.prototype.markAsPreview=function(t){return t?this.element.setAttribute(\"data-turbolinks-preview\",\"\"):this.element.removeAttribute(\"data-turbolinks-preview\")},e.prototype.renderSnapshot=function(e,r){return t.SnapshotRenderer.render(this.delegate,r,this.getSnapshot(),t.Snapshot.wrap(e))},e.prototype.renderError=function(e,r){return t.ErrorRenderer.render(this.delegate,r,e)},e}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.ScrollManager=function(){function r(r){this.delegate=r,this.onScroll=e(this.onScroll,this),this.onScroll=t.throttle(this.onScroll)}return r.prototype.start=function(){return this.started?void 0:(addEventListener(\"scroll\",this.onScroll,!1),this.onScroll(),this.started=!0)},r.prototype.stop=function(){return this.started?(removeEventListener(\"scroll\",this.onScroll,!1),this.started=!1):void 0},r.prototype.scrollToElement=function(t){return t.scrollIntoView()},r.prototype.scrollToPosition=function(t){var e,r;return e=t.x,r=t.y,window.scrollTo(e,r)},r.prototype.onScroll=function(t){return this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})},r.prototype.updatePosition=function(t){var e;return this.position=t,null!=(e=this.delegate)?e.scrollPositionChanged(this.position):void 0},r}()}.call(this),function(){t.SnapshotCache=function(){function e(t){this.size=t,this.keys=[],this.snapshots={}}var r;return e.prototype.has=function(t){var e;return e=r(t),e in this.snapshots},e.prototype.get=function(t){var e;if(this.has(t))return e=this.read(t),this.touch(t),e},e.prototype.put=function(t,e){return this.write(t,e),this.touch(t),e},e.prototype.read=function(t){var e;return e=r(t),this.snapshots[e]},e.prototype.write=function(t,e){var n;return n=r(t),this.snapshots[n]=e},e.prototype.touch=function(t){var e,n;return n=r(t),e=this.keys.indexOf(n),e>-1&&this.keys.splice(e,1),this.keys.unshift(n),this.trim()},e.prototype.trim=function(){var t,e,r,n,o;for(n=this.keys.splice(this.size),o=[],t=0,r=n.length;r>t;t++)e=n[t],o.push(delete this.snapshots[e]);return o},r=function(e){return t.Location.wrap(e).toCacheKey()},e}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.Visit=function(){function r(r,n,o){this.controller=r,this.action=o,this.performScroll=e(this.performScroll,this),this.identifier=t.uuid(),this.location=t.Location.wrap(n),this.adapter=this.controller.adapter,this.state=\"initialized\",this.timingMetrics={}}var n;return r.prototype.start=function(){return\"initialized\"===this.state?(this.recordTimingMetric(\"visitStart\"),this.state=\"started\",this.adapter.visitStarted(this)):void 0},r.prototype.cancel=function(){var t;return\"started\"===this.state?(null!=(t=this.request)&&t.cancel(),this.cancelRender(),this.state=\"canceled\"):void 0},r.prototype.complete=function(){var t;return\"started\"===this.state?(this.recordTimingMetric(\"visitEnd\"),this.state=\"completed\",\"function\"==typeof(t=this.adapter).visitCompleted&&t.visitCompleted(this),this.controller.visitCompleted(this)):void 0},r.prototype.fail=function(){var t;return\"started\"===this.state?(this.state=\"failed\",\"function\"==typeof(t=this.adapter).visitFailed?t.visitFailed(this):void 0):void 0},r.prototype.changeHistory=function(){var t,e;return this.historyChanged?void 0:(t=this.location.isEqualTo(this.referrer)?\"replace\":this.action,e=n(t),this.controller[e](this.location,this.restorationIdentifier),this.historyChanged=!0)},r.prototype.issueRequest=function(){return this.shouldIssueRequest()&&null==this.request?(this.progress=0,this.request=new t.HttpRequest(this,this.location,this.referrer),this.request.send()):void 0},r.prototype.getCachedSnapshot=function(){var t;return!(t=this.controller.getCachedSnapshotForLocation(this.location))||null!=this.location.anchor&&!t.hasAnchor(this.location.anchor)||\"restore\"!==this.action&&!t.isPreviewable()?void 0:t},r.prototype.hasCachedSnapshot=function(){return null!=this.getCachedSnapshot()},r.prototype.loadCachedSnapshot=function(){var t,e;return(e=this.getCachedSnapshot())?(t=this.shouldIssueRequest(),this.render(function(){var r;return this.cacheSnapshot(),this.controller.render({snapshot:e,isPreview:t},this.performScroll),\"function\"==typeof(r=this.adapter).visitRendered&&r.visitRendered(this),t?void 0:this.complete()})):void 0},r.prototype.loadResponse=function(){return null!=this.response?this.render(function(){var t,e;return this.cacheSnapshot(),this.request.failed?(this.controller.render({error:this.response},this.performScroll),\"function\"==typeof(t=this.adapter).visitRendered&&t.visitRendered(this),this.fail()):(this.controller.render({snapshot:this.response},this.performScroll),\"function\"==typeof(e=this.adapter).visitRendered&&e.visitRendered(this),this.complete())}):void 0},r.prototype.followRedirect=function(){return this.redirectedToLocation&&!this.followedRedirect?(this.location=this.redirectedToLocation,this.controller.replaceHistoryWithLocationAndRestorationIdentifier(this.redirectedToLocation,this.restorationIdentifier),this.followedRedirect=!0):void 0},r.prototype.requestStarted=function(){var t;return this.recordTimingMetric(\"requestStart\"),\"function\"==typeof(t=this.adapter).visitRequestStarted?t.visitRequestStarted(this):void 0},r.prototype.requestProgressed=function(t){var e;return this.progress=t,\"function\"==typeof(e=this.adapter).visitRequestProgressed?e.visitRequestProgressed(this):void 0},r.prototype.requestCompletedWithResponse=function(e,r){return this.response=e,null!=r&&(this.redirectedToLocation=t.Location.wrap(r)),this.adapter.visitRequestCompleted(this)},r.prototype.requestFailedWithStatusCode=function(t,e){return this.response=e,this.adapter.visitRequestFailedWithStatusCode(this,t)},r.prototype.requestFinished=function(){var t;return this.recordTimingMetric(\"requestEnd\"),\"function\"==typeof(t=this.adapter).visitRequestFinished?t.visitRequestFinished(this):void 0},r.prototype.performScroll=function(){return this.scrolled?void 0:(\"restore\"===this.action?this.scrollToRestoredPosition()||this.scrollToTop():this.scrollToAnchor()||this.scrollToTop(),this.scrolled=!0)},r.prototype.scrollToRestoredPosition=function(){var t,e;return t=null!=(e=this.restorationData)?e.scrollPosition:void 0,null!=t?(this.controller.scrollToPosition(t),!0):void 0},r.prototype.scrollToAnchor=function(){return null!=this.location.anchor?(this.controller.scrollToAnchor(this.location.anchor),!0):void 0},r.prototype.scrollToTop=function(){return this.controller.scrollToPosition({x:0,y:0})},r.prototype.recordTimingMetric=function(t){var e;return null!=(e=this.timingMetrics)[t]?e[t]:e[t]=(new Date).getTime()},r.prototype.getTimingMetrics=function(){return t.copyObject(this.timingMetrics)},n=function(t){switch(t){case\"replace\":return\"replaceHistoryWithLocationAndRestorationIdentifier\";case\"advance\":case\"restore\":return\"pushHistoryWithLocationAndRestorationIdentifier\"}},r.prototype.shouldIssueRequest=function(){return\"restore\"===this.action?!this.hasCachedSnapshot():!0},r.prototype.cacheSnapshot=function(){return this.snapshotCached?void 0:(this.controller.cacheSnapshot(),this.snapshotCached=!0)},r.prototype.render=function(t){return this.cancelRender(),this.frame=requestAnimationFrame(function(e){return function(){return e.frame=null,t.call(e)}}(this))},r.prototype.cancelRender=function(){return this.frame?cancelAnimationFrame(this.frame):void 0},r}()}.call(this),function(){var e=function(t,e){return function(){return t.apply(e,arguments)}};t.Controller=function(){function r(){this.clickBubbled=e(this.clickBubbled,this),this.clickCaptured=e(this.clickCaptured,this),this.pageLoaded=e(this.pageLoaded,this),this.history=new t.History(this),this.view=new t.View(this),this.scrollManager=new t.ScrollManager(this),this.restorationData={},this.clearCache()}return r.prototype.start=function(){return t.supported&&!this.started?(addEventListener(\"click\",this.clickCaptured,!0),addEventListener(\"DOMContentLoaded\",this.pageLoaded,!1),this.scrollManager.start(),this.startHistory(),this.started=!0,this.enabled=!0):void 0},r.prototype.disable=function(){return this.enabled=!1},r.prototype.stop=function(){return this.started?(removeEventListener(\"click\",this.clickCaptured,!0),removeEventListener(\"DOMContentLoaded\",this.pageLoaded,!1),this.scrollManager.stop(),this.stopHistory(),this.started=!1):void 0},r.prototype.clearCache=function(){return this.cache=new t.SnapshotCache(10)},r.prototype.visit=function(e,r){var n,o;return null==r&&(r={}),e=t.Location.wrap(e),this.applicationAllowsVisitingLocation(e)?this.locationIsVisitable(e)?(n=null!=(o=r.action)?o:\"advance\",this.adapter.visitProposedToLocationWithAction(e,n)):window.location=e:void 0},r.prototype.startVisitToLocationWithAction=function(e,r,n){var o;return t.supported?(o=this.getRestorationDataForIdentifier(n),this.startVisit(e,r,{restorationData:o})):window.location=e},r.prototype.startHistory=function(){return this.location=t.Location.wrap(window.location),this.restorationIdentifier=t.uuid(),this.history.start(),this.history.replace(this.location,this.restorationIdentifier)},r.prototype.stopHistory=function(){return this.history.stop()},r.prototype.pushHistoryWithLocationAndRestorationIdentifier=function(e,r){return this.restorationIdentifier=r,this.location=t.Location.wrap(e),this.history.push(this.location,this.restorationIdentifier)},r.prototype.replaceHistoryWithLocationAndRestorationIdentifier=function(e,r){return this.restorationIdentifier=r,this.location=t.Location.wrap(e),this.history.replace(this.location,this.restorationIdentifier)},r.prototype.historyPoppedToLocationWithRestorationIdentifier=function(e,r){var n;return this.restorationIdentifier=r,this.enabled?(n=this.getRestorationDataForIdentifier(this.restorationIdentifier),this.startVisit(e,\"restore\",{restorationIdentifier:this.restorationIdentifier,restorationData:n,historyChanged:!0}),this.location=t.Location.wrap(e)):this.adapter.pageInvalidated()},r.prototype.getCachedSnapshotForLocation=function(t){var e;return e=this.cache.get(t),e?e.clone():void 0},r.prototype.shouldCacheSnapshot=function(){return this.view.getSnapshot().isCacheable()},r.prototype.cacheSnapshot=function(){var t;return this.shouldCacheSnapshot()?(this.notifyApplicationBeforeCachingSnapshot(),t=this.view.getSnapshot(),this.cache.put(this.lastRenderedLocation,t.clone())):void 0},r.prototype.scrollToAnchor=function(t){var e;return(e=document.getElementById(t))?this.scrollToElement(e):this.scrollToPosition({x:0,y:0})},r.prototype.scrollToElement=function(t){return this.scrollManager.scrollToElement(t)},r.prototype.scrollToPosition=function(t){return this.scrollManager.scrollToPosition(t)},r.prototype.scrollPositionChanged=function(t){var e;return e=this.getCurrentRestorationData(),e.scrollPosition=t},r.prototype.render=function(t,e){return this.view.render(t,e)},r.prototype.viewInvalidated=function(){return this.adapter.pageInvalidated()},r.prototype.viewWillRender=function(t){return this.notifyApplicationBeforeRender(t)},r.prototype.viewRendered=function(){return this.lastRenderedLocation=this.currentVisit.location,this.notifyApplicationAfterRender()},r.prototype.pageLoaded=function(){return this.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()},r.prototype.clickCaptured=function(){return removeEventListener(\"click\",this.clickBubbled,!1),addEventListener(\"click\",this.clickBubbled,!1)},r.prototype.clickBubbled=function(t){var e,r,n;return this.enabled&&this.clickEventIsSignificant(t)&&(r=this.getVisitableLinkForNode(t.target))&&(n=this.getVisitableLocationForLink(r))&&this.applicationAllowsFollowingLinkToLocation(r,n)?(t.preventDefault(),e=this.getActionForLink(r),this.visit(n,{action:e})):void 0},r.prototype.applicationAllowsFollowingLinkToLocation=function(t,e){var r;return r=this.notifyApplicationAfterClickingLinkToLocation(t,e),!r.defaultPrevented},r.prototype.applicationAllowsVisitingLocation=function(t){var e;return e=this.notifyApplicationBeforeVisitingLocation(t),!e.defaultPrevented},r.prototype.notifyApplicationAfterClickingLinkToLocation=function(e,r){return t.dispatch(\"turbolinks:click\",{target:e,data:{url:r.absoluteURL},cancelable:!0})},r.prototype.notifyApplicationBeforeVisitingLocation=function(e){return t.dispatch(\"turbolinks:before-visit\",{data:{url:e.absoluteURL},cancelable:!0})},r.prototype.notifyApplicationAfterVisitingLocation=function(e){return t.dispatch(\"turbolinks:visit\",{data:{url:e.absoluteURL}})},r.prototype.notifyApplicationBeforeCachingSnapshot=function(){return t.dispatch(\"turbolinks:before-cache\")},r.prototype.notifyApplicationBeforeRender=function(e){\nreturn t.dispatch(\"turbolinks:before-render\",{data:{newBody:e}})},r.prototype.notifyApplicationAfterRender=function(){return t.dispatch(\"turbolinks:render\")},r.prototype.notifyApplicationAfterPageLoad=function(e){return null==e&&(e={}),t.dispatch(\"turbolinks:load\",{data:{url:this.location.absoluteURL,timing:e}})},r.prototype.startVisit=function(t,e,r){var n;return null!=(n=this.currentVisit)&&n.cancel(),this.currentVisit=this.createVisit(t,e,r),this.currentVisit.start(),this.notifyApplicationAfterVisitingLocation(t)},r.prototype.createVisit=function(e,r,n){var o,i,s,a,u;return i=null!=n?n:{},a=i.restorationIdentifier,s=i.restorationData,o=i.historyChanged,u=new t.Visit(this,e,r),u.restorationIdentifier=null!=a?a:t.uuid(),u.restorationData=t.copyObject(s),u.historyChanged=o,u.referrer=this.location,u},r.prototype.visitCompleted=function(t){return this.notifyApplicationAfterPageLoad(t.getTimingMetrics())},r.prototype.clickEventIsSignificant=function(t){return!(t.defaultPrevented||t.target.isContentEditable||t.which>1||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey)},r.prototype.getVisitableLinkForNode=function(e){return this.nodeIsVisitable(e)?t.closest(e,\"a[href]:not([target]):not([download])\"):void 0},r.prototype.getVisitableLocationForLink=function(e){var r;return r=new t.Location(e.getAttribute(\"href\")),this.locationIsVisitable(r)?r:void 0},r.prototype.getActionForLink=function(t){var e;return null!=(e=t.getAttribute(\"data-turbolinks-action\"))?e:\"advance\"},r.prototype.nodeIsVisitable=function(e){var r;return(r=t.closest(e,\"[data-turbolinks]\"))?\"false\"!==r.getAttribute(\"data-turbolinks\"):!0},r.prototype.locationIsVisitable=function(t){return t.isPrefixedBy(this.view.getRootLocation())&&t.isHTML()},r.prototype.getCurrentRestorationData=function(){return this.getRestorationDataForIdentifier(this.restorationIdentifier)},r.prototype.getRestorationDataForIdentifier=function(t){var e;return null!=(e=this.restorationData)[t]?e[t]:e[t]={}},r}()}.call(this),function(){var e,r,n;t.start=function(){return r()?(null==t.controller&&(t.controller=e()),t.controller.start()):void 0},r=function(){return null==window.Turbolinks&&(window.Turbolinks=t),n()},e=function(){var e;return e=new t.Controller,e.adapter=new t.BrowserAdapter(e),e},n=function(){return window.Turbolinks===t},n()&&t.start()}.call(this)}).call(this),\"object\"==typeof module&&module.exports?module.exports=t:\"function\"==typeof define&&define.amd&&define(t)}).call(this);","import Turbolinks from 'turbolinks'\nimport { Application } from \"stimulus\"\nimport { definitionsFromContext } from \"stimulus/webpack-helpers\"\n\nconst application = Application.start()\nconst context = require.context(\"./controllers\", true, /\\.js$/)\napplication.load(definitionsFromContext(context))\n\nTurbolinks.start()\n","export function definitionsFromContext(context) {\n    return context.keys()\n        .map(function (key) { return definitionForModuleWithContextAndKey(context, key); })\n        .filter(function (value) { return value; });\n}\nfunction definitionForModuleWithContextAndKey(context, key) {\n    var identifier = identifierForContextKey(key);\n    if (identifier) {\n        return definitionForModuleAndIdentifier(context(key), identifier);\n    }\n}\nfunction definitionForModuleAndIdentifier(module, identifier) {\n    var controllerConstructor = module.default;\n    if (typeof controllerConstructor == \"function\") {\n        return { identifier: identifier, controllerConstructor: controllerConstructor };\n    }\n}\nexport function identifierForContextKey(key) {\n    var logicalName = (key.match(/^(?:\\.\\/)?(.+)(?:[_-]controller\\..+?)$/) || [])[1];\n    if (logicalName) {\n        return logicalName.replace(/_/g, \"-\").replace(/\\//g, \"--\");\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9wYWNrYWdlcy9Ac3RpbXVsdXMvd2VicGFjay1oZWxwZXJzL2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQU9BLE1BQU0saUNBQWlDLE9BQTBDO0lBQy9FLE1BQU0sQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUFFO1NBQ2xCLEdBQUcsQ0FBQyxVQUFBLEdBQUcsSUFBSSxPQUFBLG9DQUFvQyxDQUFDLE9BQU8sRUFBRSxHQUFHLENBQUMsRUFBbEQsQ0FBa0QsQ0FBQztTQUM5RCxNQUFNLENBQUMsVUFBQSxLQUFLLElBQUksT0FBQSxLQUFLLEVBQUwsQ0FBSyxDQUFpQixDQUFBO0FBQzNDLENBQUM7QUFFRCw4Q0FBOEMsT0FBMEMsRUFBRSxHQUFXO0lBQ25HLElBQU0sVUFBVSxHQUFHLHVCQUF1QixDQUFDLEdBQUcsQ0FBQyxDQUFBO0lBQy9DLEVBQUUsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7UUFDZixNQUFNLENBQUMsZ0NBQWdDLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxFQUFFLFVBQVUsQ0FBQyxDQUFBO0lBQ25FLENBQUM7QUFDSCxDQUFDO0FBRUQsMENBQTBDLE1BQXdCLEVBQUUsVUFBa0I7SUFDcEYsSUFBTSxxQkFBcUIsR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFBO0lBQzVDLEVBQUUsQ0FBQyxDQUFDLE9BQU8scUJBQXFCLElBQUksVUFBVSxDQUFDLENBQUMsQ0FBQztRQUMvQyxNQUFNLENBQUMsRUFBRSxVQUFVLFlBQUEsRUFBRSxxQkFBcUIsdUJBQUEsRUFBRSxDQUFBO0lBQzlDLENBQUM7QUFDSCxDQUFDO0FBRUQsTUFBTSxrQ0FBa0MsR0FBVztJQUNqRCxJQUFNLFdBQVcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsd0NBQXdDLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtJQUNsRixFQUFFLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO1FBQ2hCLE1BQU0sQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFBO0lBQzVELENBQUM7QUFDSCxDQUFDIn0=","import { Controller } from \"stimulus\"\n\nexport default class extends Controller {\n  show(event) {\n    event.preventDefault()\n\n    if (this.numProposals > 1) {\n      alert(`would preview the ${this.numProposals} pitched proposals`)\n    } else {\n      alert(`would preview the pitched proposal`)\n    }\n  }\n\n  get numProposals() {\n    return parseInt(this.data.get('amount'))\n  }\n}\n","var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\r\n} catch (e) {\r\n\t// This works if the window reference is available\r\n\tif (typeof window === \"object\") g = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it's\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n","import { Controller } from \"stimulus\"\nimport inViewport from 'in-viewport'\n\nconst scrollContainerSelector = '[data-behavior=\"scroll-watcher\"]'\n\nexport default class extends Controller {\n  connect() {\n    this.watcher = inViewport(this.element, {\n      offset: 100,\n      container: document.querySelector(scrollContainerSelector)\n    }, () => {\n      this.addMoreClients()\n    })\n  }\n\n  disconnect() {\n    this.watcher.dispose()\n  }\n\n  addMoreClients() {\n    let url = this.nextPageUrl + '?' + new Date().getTime() // cache-busting, because why not\n\n    let parentEl = this.element.parentNode\n\n    let oReq = new XMLHttpRequest()\n\n    let controller = this\n\n    oReq.onload = function (e) {\n      let newEl = document.createElement(\"div\");\n      newEl.innerHTML = e.target.response;\n      parentEl.insertBefore(newEl, controller.element)\n      controller.element.remove()\n    }\n\n    oReq.open('GET', url, true)\n    oReq.responseType = 'text'\n    oReq.send()\n  }\n\n  get nextPageUrl() {\n    return this.data.get(\"url\")\n  }\n}\n","import { Controller } from \"stimulus\"\n\nexport default class extends Controller {\n  static targets = ['menu', 'button']\n\n  toggle(event) {\n    event.stopPropagation()\n    event.preventDefault()\n\n    if (this.buttonTarget.getAttribute('aria-expanded') == \"false\") {\n      this.show()\n    } else {\n      this.hide(event)\n    }\n  }\n\n  show() {\n    this.buttonTarget.setAttribute('aria-expanded', \"true\")\n    this.element.classList.add('show')\n    this.menuTarget.classList.add('show')\n  }\n\n  hide(event) {\n    if (event.target == this.menuTarget) {\n      event.preventDefault()\n      return\n    }\n    this.buttonTarget.setAttribute('aria-expanded', \"false\")\n    this.element.classList.remove('show')\n    this.menuTarget.classList.remove('show')\n  }\n}\n","import { Controller } from \"stimulus\"\n\nexport default class extends Controller {\n  static targets = [ \"button\" ]\n\n  toggle(event) {\n    event.stopPropagation()\n\n    if (this.buttonTarget.getAttribute('aria-expanded') == \"false\") {\n      this.show()\n    } else {\n      this.hide(event)\n    }\n\n    if (this.buttonTarget.dataset.altText) {\n      let oldText = this.buttonTarget.textContent\n      this.buttonTarget.textContent = this.buttonTarget.dataset.altText\n      this.buttonTarget.dataset.altText = oldText\n    }\n  }\n\n  show() {\n    this.buttonTarget.setAttribute('aria-expanded', \"true\")\n    this.element.classList.add('show')\n  }\n\n  hide(event) {\n    if (event.target == this.element) {\n      event.preventDefault()\n      return\n    }\n    this.buttonTarget.setAttribute('aria-expanded', \"false\")\n    this.element.classList.remove('show')\n  }\n}\n","var map = {\n\t\"./collapse_controller.js\": 8,\n\t\"./dropdown_controller.js\": 7,\n\t\"./more-clients_controller.js\": 6,\n\t\"./preview-proposals_controller.js\": 4\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\tvar module = __webpack_require__(id);\n\treturn module;\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error('Cannot find module \"' + req + '\".');\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 9;","/* globals __webpack_amd_options__ */\r\nmodule.exports = __webpack_amd_options__;\r\n"],"sourceRoot":""}